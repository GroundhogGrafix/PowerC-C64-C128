KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK #XIT PLA TAY PLA TAX PLA RTS ; REGISTERS REMAIN UNCHANGED UPON RETURN. PHA TYA PHA LDA ÂEEPÏN        ; BEEP ON OR OFF? BEQ BEEPEXIT LDY #23 LDA #0CLEAREG STA $D400,Y       ; CLEAR ÓÉÄ CHIP DEY BPL CLEAREG LDA #9 STA $D405 LDA #240 SKKKKKKKKKKKKKKKKKK ×INDCOL DEX STX ÃOLUMN LDA ×INDROW CLC ADC ×INDHEIGHT STA ÒOW LDA #'­ JSR $FFD2 LDY ×INDWIDTH STY ÒEPETITIONS LDA #'À JSR REPEAT1 LDA #'½ JSR $FFD2; ÓET WINDOW BORDER LIMITS LDA ×INDCOL STA ÌEFTÅDGE CLC ADC ×INDWIDTH STA ÒIGHTÅDGEDA #0               ; DEALLOCATE WINDOW LDY ÃURRENT×IND STA C$PARMS+1,X STA ×INDÁLLOCÌO-1,Y STA ×INDÁLLOCÈI-1,YALLOCOK LDY #11STOREPARM LDA (ÔEMPÓTG1),Y STA ×INDCOL,Y DEY BPL STOREPARM CLC LDA ×INDWIDTH ADC #3 STA ÓIZEÁCROSS STA ÓCROLLÅTO THE STANDARD; OUTPUT A CERTAIN NUMBER OF TIMES.; 'CH' HOLDS THE CHARACTER'S ÐÅÔÁÓÃÉÉ; VALUE, WHILE 'TIMES' HOLDS THE NUMBER; OF TIMES THE CHARACTER IS TO BE; PRINTED.;--------------------------------------- .DEF ÒEPÃHARÒEPETITIONS   .BYTE 0  RTS;---------------------------------------;; ÆÕÎÃÔÉÏÎ: ÃLOSE×IN (×INÉÄ);; ÉF ×INÉÄ IS ZERO THE WINDOW WITH THE; LOWEST ÉÄ NUMBER IS CLOSED.;; ÉF ×INÉÄ IS NON-ZERO THE VALUE IS; TAKEN TO BE AN ÉÄ AND THE WINDOW; CORRESPONDING TO THE ÉÄ WILL BEXT POINTED BY ÔEXTÐOINTER LDA ÔEXTÐOINTER STA ÔEMPÓTG1      ; ÔEMPÓTG1 & ÔEMPÓTG2 GET CLOBBERED EACH TIME LDA ÔEXTÐOINTER+1 ; BY ÓTARTÃALC. STA ÔEMPÓTG2 STY ÙÓTORE        ; SAVE Ù REG BEFORE IT GETS CLOBBERED LDA (ÔEMPÓTG1),Y  ; PRINT THE BUFFERED RTS;---------------------------------------;; ÆÕÎÃÔÉÏÎ:  BEEP ();; ÂEEPÏN = 0        -> ÏFF; ÂEEPÏN = ÎÏÎ-ÚÅÒÏ -> ÏN;; ÂEEP SERVES AS SUPPORT TO ÏPEN×IND(); AND ÃLOSE×IN() AND IT SHOULD ALWAYS BE; PRESENT IN THIS FILE.  ÉF YOU DON'T; WANT BARMS,X BNE IDGIVEN          ; WINDOW ÉÄ WAS SPECIFIED, CLOSE THAT WINDOW ONLY LDY #1FINDLOWID LDA ×INDÁLLOCÌO-1,Y  ; NO ÉÄ GIVEN, CLOSE WINDOW WITH LOWEST ÉÄ# ORA ×INDÁLLOCÈI-1,Y BNE CLOSEOK INY CPY #ÍÁØ×ÉÎÄ BCC FINDLOWID JMP NOGO             X #0 STX ÒEVERSEÂYTE; ÖALUE IN Á IS NOT ÐÅÔÁÓÃÉÉ, BUT SCREEN ÐÏËÅ CODE.; ÓKIP ÐÅÔÁÓÃÉÉ CONVERSION SECTION BY JUMPING INTO; ÓTARTÃALC. JSR ÓTARTÃALC INY BNE RTEXTREXIT CLC               ; INCREMENT ÔEXTÐOINTER TO POINT TO THE LDA ÔEXTÐOINTER ÐOWER'S VARIOUS STACKS, SUCH AS THE ASSIGNMENT; STACK, FUNCTION STACK, ETC... INCLUDE A 'JSR C$FUNCT¤INIT' BEFORE EVERY; FUNCTION, WHETHER IT REQUIRES AN ARGUMENT OR NOT.BEEP JSR C$FUNCT¤INIT PHA               ; FUTURE PROJECTS USING BEEP() MIGHT R       ; MOVE PAST WINDOW DEFINITION PARAMETERS STA ÔEXTÐOINTER     ; TEXT IS STORED RIGHT AFTER WINDOW PARAMETERS LDA ×INDÁLLOCÈI-1,Y STA ÔEMPÓTG2 STA C$PARMS+1,X ADC #0 STA ÔEXTÐOINTER+1 JSR FREE+3 LDA ÃURRENT×IND LDX ÃOUNTER STA C$PARMS,X LLE SCROLL STA ÓCROLLÅNABLE LDA ×INDSVCOL STA ÃOLUMN LDA ×INDSVROW STA ÒOW LDX #3RSTRVALS LDA ×INDSVLEFT,X STA ÌEFTÅDGE,X DEX BPL RSTRVALS RTS;---------------------------------------;; ÆÕÎÃÔÉÏÎ:  ÒEPÃHAR (CH, TIMES);; ÐRINT A CHARACTER TA $D406 LDA #15 STA $D418 LDA #94 STA $D400 LDX #50VOICELOOP STX $D401 LDA #33 STA $D404 LDY #0DELAYLOOP NOP DEY BNE DELAYLOOP INX              ; INCREMENT FREQUENCY BY THREE INX INX CPX #200 BCC VOICELOOP LDA #32 STA $D404BEEPE LDA ×INDROW STA ÔOPÅDGE LDA ÃOUNTER STA ÂOTTOMÅDGE JSR ÃLEAR×INDOW LDA #0 STA ÓCROLLÅNABLE; ÍOVE WINDOW WORKAREA TO NEWLY ALLOCATED MEMORY LDY #11        ; 11 BYTES TO MOVESTOREWIND LDA ×INDCOL,YWINDADDR STA !$0000,Y DEY BPL STOREWINDNABLE ; DISABLE SCROLL LDX ÍODEÉNDEX    ; SET WINDOW BORDERS TO MAXIMUM LIMIT JSR ÉNITÃHARÓET INC ×INDHEIGHT INC ×INDHEIGHT DEC ×INDROWRLOOP LDY ×INDCOL DEY STY ÃOLUMN LDY ×INDROW STY ÒOW LDY #0RTEXT CLC               ; RESTORE BUFFERED T  ; # OF REPETITIONS (WORK BYTE); ÅNTRY IS HERE FOR Ã ÐOWER CALLS.ÒEPÃHAR JSR C$FUNCT¤INIT LDA C$PARMS+2,X STA ÒEPETITIONS LDA C$PARMS,X; ÅNTER HERE WITH ÒEPETITIONS CONTAINING # OF REPS FOR ÍÌREPEAT1 JSR $FFD2 DEC ÒEPETITIONS BNE REPEAT1E; CLOSED.;--------------------------------------- .REF FREE, ÓTARTÃALC .DEF ÃLOSE×INÔEXTÐOINTER    .WORD 0  ; POINTER TO BUFFERED TEXTÃLOSE×IN JSR C$FUNCT¤INIT STX ÃOUNTER          ; STORE PARAMETER AREA INDEX IN ÃOUNTER MOMENTARILY LDA C$P TEXT BEQ REXIT         ; ZERO FOUND - END OF STRING FOR CURRENT ROW BPL PRBUFTEXT     ; NORMAL CHARACTER - REVERSE MODE OFF LDX #255          ; REVERSE CHARACTER - TURN ON REVERSE MODE AND #127 .BYTE $2C         ; SKIP NEXT TWO BYTESPRBUFTEXT LDEEPS IN YOUR Ã PROGRAMS, JUST; SET ÂEEPÏN (INITIALLY ON) TO ZERO AND; CALL:;; BEEP ();;; ...THAT'S ALL THERE IS TO IT.;--------------------------------------- .DEF BEEP, ÂEEPÏNÂEEPÏN     .WORD 255    ; BEEP TOGGLE; ÉN ORDER NOT TO CLOBBER Ã-	; NO WINDOWS WERE FOUND TO BE OPEN.IDGIVEN CMP #ÍÁØ×ÉÎÄ+1 BCC IDVALID JMP NOGOIDVALID TAYCLOSEOK STY ÃURRENT×IND JSR BEEP+3          ; SOUND A BEEP - WINDOW WILL BE CLOSED! CLC LDA ×INDÁLLOCÌO-1,Y STA ÔEMPÓTG1 STA C$PARMS,X ADC #12      
  ; NEXT BUFFERED ROW TO BE RESTORED ADC ÓIZEÁCROSS STA ÔEXTÐOINTER LDA ÔEXTÐOINTER+1 ADC #0 STA ÔEXTÐOINTER+1 INC ×INDROW DEC ×INDHEIGHT BNE RLOOP         ; ARE ALL ROWS RESTORED YET?; ÒESTORE COLUMN & ROW POSITION. LDA #0             ; ENABEQUIRE THAT ALL TXA               ; REGISTERS REMAIN UNCHANGED UPON RETURN. PHA TYA PHA LDA ÂEEPÏN        ; BEEP ON OR OFF? BEQ BEEPEXIT LDY #23 LDA #0CLEAREG STA $D400,Y       ; CLEAR ÓÉÄ CHIP DEY BPL CLEAREG LDA #9 STA $D405 LDA #240 S	COPY CHARACTER MEMORY TO ALLOCATED MEMORY' LOOPCOPYLOOP INX CLC LDY ×INDCOL DEY TYA ADC ÒOWÏFFSETÌO,X STA Ó×INDÓRCE LDA ÒOWÏFFSETÈI,X ADC #0 STA Ó×INDÓRCE+1 LDA #<Ó×INDÓRCE LDY #>Ó×INDÓRCE JSR ÐREÍOVE JSR ÍOVE CLC                ; MOVE D	    ; USE ÃOUNTER AS TEMPORARY STORAGE FOR X INDEX LDY #ÍÁØ×ÉÎÄ     ; TRY TO ALLOCATE WINDOW ÉÄALLOCID LDA ×INDÁLLOCÌO-1,Y ORA ×INDÁLLOCÈI-1,Y BEQ GAPFOUND     ; OKAY, AN EMPTY ÉÄ HAS BEEN FOUND DEY BNE ALLOCIDNOGOJMP JMP NOGO; Á GAP WAS FOU	D TO BUFFER IN; ÔEMPÓTG1 & ÔEMPÓTG2. CLC LDA ÔEMPÓTG1 ADC #12 STA $4C          ; PREPARE FOR CALL TO MALLOC() LDA ÔEMPÓTG2 ADC #0 STA $4D LDA ÃOUNTER      ; RECOVER INDEX TO PARAMETER PASSING AREA STA $4B JSR MALLOC+16    ; SKIP FIRST 16 BYTE	      ; MOVE PAST ZERO BNE COPYCONT INC Ó×INDÄEST+1COPYCONT CPX ÃOUNTER BNE COPYLOOP; ÓTART DRAWING WINDOW BORDERS LDA #0 STA ÒEVERSEÂYTE   ; TURN REVERSE MODE OFF LDX ÍODEÉNDEX     ; SET WINDOW BORDER LIMITS TO MAXIMUM JSR ÉNITÃHARÓET LDA 	INDTITLE+1; ÔEST FOR OUT-OF-RANGE VALUES. LDA ×INDCOL BEQ NOGOJMP CMP ÓCREEN×IDTH BCS NOGOJMP CLC ADC ×INDWIDTH CMP ÓCREEN×IDTH BCS NOGOJMP LDA ×INDROW BEQ NOGOJMP CMP #23 BCS NOGOJMP CLC ADC ×INDHEIGHT CMP #25 BCS NOGOJMP LDA ÃOLUMN	ÚERO)NOGO LDA #0 LDX ÃOUNTER STA C$PARMS,X STA C$PARMS+1,X RTS; ÅRROR-CHECKING IS OVER NOW!ENUFMEM LDY ÃURRENT×IND CLC LDA C$PARMS,X STA WINDADDR+1 STA ×INDÁLLOCÌO-1,Y ; SAVE WINDOW BUFFER ADDRESS IN WINDOW ADC #12             ; ALLOCATI	TITLEXIT CMP #20 BCC SPECIALPRT CMP #160 BCS CHRSOK CMP #96 BCC CHRSOKSPECIALPRT INXCHRSOK JSR $FFD2 INY BNE TITLELOOPTITLEXIT STX ÔEMPÓTG7 SEC TYA SBC ÔEMPÓTG7 STA ÔEMPÓTG7  LDA ×INDWIDTH SEC SBC ÔEMPÓTG7; ÐRINT TITLE BAR STA	BYTE HAS BEEN FOUND. INY BNE FINDSIZE JMP NOGOSIZEFOUND CPY ×INDWIDTH     ; Ù CONTAINS SIZE OF TITLE. BCC SIZEOKAY      ; TITLE < WINDOW WIDTH = OKAY JMP NOGO          ; TITLE > WINDOW WIDTH = INVALIDSIZEOKAY LDX #3; ÓAVE CURRENT WINDOW/SCRE	 +3       ; SOUND A BEEP - EVERYTHING WENT OKAY! CLC LDA ×INDROW ADC ×INDHEIGHT STA ÃOUNTER DEC ÓIZEÁCROSS LDA ÓIZEÁCROSS STA Ó×INDÂYTES   ; NUMBER OF BYTES TO BE MOVED = ÓIZEÁCROSS - 1 LDA #0 STA Ó×INDÂYTES+1 LDX ×INDROW DEX DEX; ÓTART OF ' OP LDX ×INDCOL DEX STX ÃOLUMN TYA CLC ADC ×INDROW STA ÒOW PHA LDA #'Ý JSR $FFD2 CLC LDA ×INDCOL ADC ×INDWIDTH STA ÃOLUMN PLA STA ÒOW LDA #'Ý JSR $FFD2 DEY BPL BORDERLOOP INC ×INDROW DEC ×INDHEIGHT; ÐRINT BOTTOM WINDOW BORDER LDX	Ã,; IS CALLED FROM WITHIN ÏPEN×IND () SO; THAT ENOUGH SPACE CAN BE ALLOCATED; DYNAMICALLY TO SAVE THE TEXT UNDER A; WINDOW WHEN IT IS FIRST OPENNED.;;--------------------------------------- .DEF ÏPEN×INDÏPEN×IND JSR C$FUNCT¤INIT STX ÃOUNTER  	ERO DELIMITER LDY ×INDHEIGHT    INY              ; SAVE WHAT'S UNDER THE TITLE BAR INY              ; AND WHAT'S UNDER THE BOTTOM BORDER JSR ÍULTIPLY     ; FIND OUT TOTAL AREA OF WINDOW (ÓIZEÁCROSS * ÓIZEÄOWN); ÔOTAL NUMBER OF BYTES TO BE ALLOCATE	ESTINATION ADDRESS ONE ROW DOWN LDA Ó×INDÄEST ADC ÓIZEÁCROSS STA Ó×INDÄEST STA ÔEMPÓTG1 LDA Ó×INDÄEST+1 ADC #0 STA Ó×INDÄEST+1 STA ÔEMPÓTG2 LDA #0             ; PLACE DELIMITER CHARACTER OF ZERO AT ROW'S END TAY STA (ÔEMPÓTG1),Y INC Ó×INDÄEST	ND - ALLOCATE WINDOW ÉÄGAPFOUND STY ÃURRENT×IND  ; CURRENT WINDOW IN USE LDA C$PARMS,X STA ×INDCOL LDA C$PARMS+2,X STA ×INDROW LDA C$PARMS+4,X STA ×INDWIDTH LDA C$PARMS+6,X STA ×INDHEIGHT LDA C$PARMS+8,X STA ×INDTITLE LDA C$PARMS+9,X STA ×	S OF MALLOC ROUTINE LDX ÃOUNTER LDA C$PARMS,X    ; CHECK IF A ZERO HAS BEEN RETURNED (0 = OUT OF MEMORY) ORA C$PARMS+1,X BNE ENUFMEM      ; ENOUGH MEMORY AVAIABLE? ÎÏÎ-ÚÅÒÏ = ÙES; ÅRROR ENCOUNTERED OPENNING OR CLOSING A WINDOW; ÒETURN ERROR CODE (	×INDCOL STA ÃOLUMN LDX ×INDROW DEX STX ÒOW LDA #255          ; DISABLE SCROLL WHILE DRAWING WINDOW STA ÓCROLLÅNABLE LDY #0 LDX #0; ÐRINT WINDOW TITLETITLELOOP LDA ×INDTITLE STA ÔEMPÓTG1 LDA ×INDTITLE+1 STA ÔEMPÓTG2 LDA (ÔEMPÓTG1),Y BEQ 	 STA ×INDSVCOL LDA ÒOW STA ×INDSVROW; ÆIND OUT IF TITLE IS WIDER THAN WIDTH LDA ×INDTITLE STA ÔEMPÓTG1 LDA ×INDTITLE+1 STA ÔEMPÓTG2 LDY #0FINDSIZE LDA (ÔEMPÓTG1),Y  ; GO THROUGH TITLE TEXT AND STOP WHEN BEQ SIZEFOUND     ; A ZERO DELIMITER 	ON TABLE STA ÔEMPÓTG5 STA Ó×INDÄEST LDA C$PARMS+1,X STA WINDADDR+2 STA ×INDÁLLOCÈI-1,Y ADC #0 STA ÔEMPÓTG6 STA Ó×INDÄEST+1; ÐREPARE WINDOW ÉÄ NUMBER LDA ÃURRENT×IND  ; ÉÄ NUMBER TO BE RETURNED STA C$PARMS,X LDA #0 STA C$PARMS+1,X JSR BEEP		 ÒEPETITIONS LDA #'Ü            ; TITLE BAR CHARACTER JSR REPEAT1 LDA #0             ; TURN REVERSE MODE OFF AGAIN IN CASE TITLE STA ÒEVERSEÂYTE    ; BAR WAS REVERSED. DEC ×INDROW INC ×INDHEIGHT LDY ×INDHEIGHT DEY; ÐRINT WINDOW BORDERBORDERLO	
< H < 25); T = POINTER TO WINDOW TITLE;; ÕP TO 16 WINDOWS ARE ALLOWED TO BE; OPEN AT ONCE.  ÈOWEVER, ONLY ONE IS; 'ACTIVE' AT ANY ONE TIME.  ÁLL OUTPUT; IS SENT TO THE CURRENT 'ACTIVE' WINDOW; IF ONE IS OPEN.;; Ã-ÐOWER'S STANDARD FUNCTION, ÍÁÌÌÏ	EN BORDER LIMITSSVLIMITS LDA ÌEFTÅDGE,X STA ×INDSVLEFT,X DEX BPL SVLIMITS CLC LDA ×INDWIDTH ADC #3           ; SEE EXPLANATION BELOW STA ÓIZEÁCROSS; ÓIZEÁCROSS = SIZE OF BUFFER FOR EACH ROW...; ×INDOW×IDTH + 2 FOR BORDER CHARACTERS + 1 FOR Z
0, 80, 160, 160, 80, 80 .BYTE 48, 48, 48, 48, 48, 48, 48, 48 .BYTE 48, 64, 64, 128, 64, 64, 48, 0 .BYTE 192, 32, 32, 16, 32, 32, 192, 0 .BYTE 240, 144, 144, 144, 144, 144, 144, 240 .BYTE 64, 64, 64, 112, 64, 64, 64, 64 .BYTE 0, 0, 0, 0, 48, 48, 48,
;---------------------------------------;; ×INDOW PACKAGE FOR Ã-×ÉÎÄÏ×Ó.;; ÆILENAME: SYS¤WINDOWS.A; ÁUTHOR: ÒUBENS ÁBBOUD;; ÌAST UPDATED: 12/08/87;;---------------------------------------#INCLUDE <SYS¤DEFS.I>ÍÁØ×ÉÎÄ         =  16     ; ÍAXI
128, 176, 144, 144, 96, 0 .BYTE 144, 144, 144, 240, 144, 144, 144, 0 .BYTE 112, 32, 32, 32, 32, 32, 112, 0 .BYTE 112, 16, 16, 16, 16, 144, 96, 0 .BYTE 144, 144, 160, 192, 160, 144, 144, 0 .BYTE 128, 128, 128, 128, 128, 128, 240, 0 .BYTE 144, 240, 2
 .BYTE 0, 64, 96, 240, 96, 64, 0, 0 .BYTE 64, 64, 64, 64, 224, 224, 64, 0 .BYTE 48, 48, 48, 48, 48, 48, 48, 48 .BYTE 240, 240, 0, 0, 0, 0, 0, 0 .BYTE 240, 240, 240, 0, 0, 0, 0, 0 .BYTE 0, 0, 0, 0, 0, 240, 240, 240 .BYTE 0, 0, 0, 144, 160, 192, 128
NDROW       .BYTE 0×INDWIDTH     .BYTE 0×INDHEIGHT    .BYTE 0×INDTITLE     .WORD 0×INDSVCOL     .BYTE 0×INDSVROW     .BYTE 0×INDSVLEFT    .BYTE 0×INDSVRIGHT   .BYTE 0×INDSVTOP     .BYTE 0×INDSVBOTM    .BYTE 0ÓIZEÁCROSS    .BYTE 0  ; ×IDTH OF 
 144, 96, 96, 176, 160, 112, 0 .BYTE 32, 32, 64, 0, 0, 0, 0, 0 .BYTE 32, 64, 128, 128, 128, 64, 32, 0 .BYTE 64, 32, 16, 16, 16, 32, 64, 0 .BYTE 0, 144, 96, 240, 96, 144, 0, 0 .BYTE 0, 64, 64, 224, 64, 64, 0, 0 .BYTE 0, 0, 0, 0, 0, 32, 32, 64 .BYTE
4, 128, 96, 16, 144, 96, 0 .BYTE 240, 32, 32, 32, 32, 32, 32, 0 .BYTE 144, 144, 144, 144, 144, 144, 96, 0 .BYTE 144, 144, 144, 144, 144, 96, 96, 0 .BYTE 144, 144, 144, 144, 240, 240, 144, 0 .BYTE 144, 144, 144, 96, 144, 144, 144, 0 .BYTE 144, 144, 	OC STA ×INDÁLLOCÈI,X DEX BPL CLEARALLOC RTS;---------------------------------------;; ÆÕÎÃÔÉÏÎ: ÏPEN×IND (C, R, W, H, *T);; C = LEFTMOST WINDOW COLUMN ( > 0); R = UPPER WINDOW ROW ( > 0); W = WIDTH OF WINDOW ( > 0); H = HEIGHT OF WINDOW ( 0 
0 .BYTE 48, 80, 80, 144, 240, 16, 16, 0 .BYTE 240, 128, 224, 16, 16, 144, 96, 0 .BYTE 96, 144, 128, 224, 144, 144, 96, 0 .BYTE 240, 144, 32, 64, 64, 64, 64, 0 .BYTE 96, 144, 144, 96, 144, 144, 96, 0 .BYTE 96, 144, 144, 112, 16, 144, 96, 0 .BYTE 0,
 44, 192, 96 .BYTE 0, 0, 0, 0, 0, 0, 0, 0 .BYTE 192, 192, 192, 192, 192, 192, 192, 192 .BYTE 0, 0, 0, 0, 240, 240, 240, 240 .BYTE 240, 0, 0, 0, 0, 0, 0, 0 .BYTE 0, 0, 0, 0, 0, 0, 0, 240 .BYTE 128, 128, 128, 128, 128, 128, 128, 128 .BYTE 160, 160, 8
-------------------------------;; ÆÕÎÃÔÉÏÎ: ÉNIT×IND ();; ÉNITIALIZE WINDOW ALLOCATION TABLE.;;--------------------------------------- .DEF ÉNIT×INDÉNIT×IND JSR C$FUNCT¤INIT LDA #0           ; CLEAR WINDOW ALLOCATION TABLES LDX #31CLEARALL
0, 144, 144, 144, 0 .BYTE 224, 144, 144, 224, 144, 144, 224, 0 .BYTE 96, 144, 128, 128, 128, 144, 96, 0 .BYTE 192, 160, 144, 144, 144, 160, 192, 0 .BYTE 240, 128, 128, 192, 128, 128, 240, 0 .BYTE 240, 128, 128, 192, 128, 128, 128, 0 .BYTE 96, 144, 
 48 .BYTE 64, 64, 64, 112, 0, 0, 0, 0 .BYTE 0, 0, 0, 192, 64, 64, 64, 64 .BYTE 0, 0, 0, 0, 0, 0, 240, 240 .BYTE 0, 0, 0, 112, 64, 64, 64, 64 .BYTE 64, 64, 64, 240, 0, 0, 0, 0 .BYTE 0, 0, 0, 240, 64, 64, 64, 64 .BYTE 64, 64, 64, 192, 64, 64, 64, 64
MUM # OF WINDOWS .REF C$FUNCT¤INIT, MALLOC .REF ÃLEAR×INDOW, ÍULTIPLY, ÉNITÃHARÓET .REF ÒOWÏFFSETÌO, ÒOWÏFFSETÈI .REF ÐREÍOVE, ÍOVE .REF Ó×INDÓRCE, Ó×INDÄEST, Ó×INDÂYTES .REF ÓCROLLÅNABLE; ×ORKAREA FOR WINDOW ROUTINES.×INDCOL       .BYTE 0×I
32, 96, 240, 96, 32, 0, 0 .BYTE 0, 0, 0, 0, 0, 0, 0, 0 .BYTE 64, 64, 64, 64, 0, 0, 64, 0 .BYTE 160, 160, 0, 0, 0, 0, 0, 0 .BYTE 96, 96, 240, 96, 240, 96, 96, 0 .BYTE 32, 112, 128, 96, 16, 224, 32, 0 .BYTE 144, 16, 32, 64, 64, 128, 144, 0 .BYTE 96,
40, 144, 144, 144, 144, 0 .BYTE 144, 208, 208, 176, 176, 144, 144, 0 .BYTE 96, 144, 144, 144, 144, 144, 96, 0 .BYTE 224, 144, 144, 224, 128, 128, 128, 0 .BYTE 96, 144, 144, 144, 144, 96, 48, 0 .BYTE 224, 144, 144, 224, 160, 144, 144, 0 .BYTE 96, 14 Á, 0 .BYTE 0, 0, 0, 0, 192, 192, 192, 192 .BYTE 48, 48, 48, 48, 0, 0, 0, 0 .BYTE 64, 64, 64, 192, 0, 0, 0, 0 .BYTE 192, 192, 192, 192, 0, 0, 0, 0 .BYTE 192, 192, 192, 192, 48, 48, 48, 48 0, 240, 64, 64, 64, 64 .BYTE 64, 64, 64, 192, 64, 64, 64, 64
 0, 0, 0, 224, 0, 0, 0, 0 .BYTE 0, 0, 0, 0, 0, 0, 96, 0 .BYTE 16, 16, 32, 64, 64, 128, 128, 0 .BYTE 96, 144, 144, 176, 208, 144, 96, 0 .BYTE 96, 96, 160, 32, 32, 32, 240, 0 .BYTE 96, 144, 16, 32, 64, 128, 240, 0 .BYTE 96, 144, 16, 32, 16, 144, 96, 
	144, 144, 112, 16, 224, 0 .BYTE 240, 16, 32, 64, 128, 128, 240, 0 .BYTE 64, 64, 64, 240, 64, 64, 64, 64 .BYTE 240, 0, 240, 0, 240, 0, 240, 0 .BYTE 64, 64, 64, 64, 64, 64, 64, 64 .BYTE 80, 80, 160, 160, 80, 80, 160, 160 .BYTE 48, 144, 192, 96, 48, 1

WINDOW + 2ÃOUNTER       .BYTE 0  ; ÇENERAL PURPOSE COUNTER; ÁLLOCATE SPACE FOR UP TO 16 WINDOWS×INDÁLLOCÈI   .BSS  ÍÁØ×ÉÎÄ ; ÔABLE OF WINDOW ADRESSES×INDÁLLOCÌO   .BSS  ÍÁØ×ÉÎÄÃURRENT×IND   .BYTE 0       ; ÍOST RECENT WINDOW WORKED ON;--------
 0, 64, 0, 0, 64, 0, 0 .BYTE 0, 0, 32, 0, 0, 32, 32, 64 .BYTE 0, 32, 64, 128, 64, 32, 0, 0 .BYTE 0, 0, 224, 0, 224, 0, 0, 0 .BYTE 0, 64, 32, 16, 32, 64, 0, 0 .BYTE 96, 144, 16, 32, 64, 0, 64, 0 .BYTE 0, 0, 0, 240, 0, 0, 0, 0 .BYTE 96, 144, 144, 2496, 144, 16, 32, 64, 0, 64, 0 .BYTE 0, 0, 0, 248, 0, 0, 0, 0 .BYTE 96, 144, 144, 240, 144, 144, 144, 0 .BYTE 224, 144, 144, 224, 144, 144, 224, 0 .BYTE 96, 144, 128, 128, 128, 144, 96, 0 .BYTE 192, 160, 144, 144, 144, 160, 192, 0 .BYTE 240, 128, 1236, 136, 248 .BYTE 32, 32, 32, 56, 32, 32, 32, 32 .BYTE 0, 0, 0, 0, 24, 24, 24, 24 .BYTE 32, 32, 32, 56, 0, 0, 0, 0 .BYTE 0, 0, 0, 224, 32, 32, 32, 32 .BYTE 0, 0, 0, 0, 0, 0, 248, 248 .BYTE 0, 0, 0, 56, 32, 32, 32, 32 .BYTE 32, 32, 32, 248, 0, 0, 
4, 0 .BYTE 0, 0, 144, 144, 144, 112, 16, 224 .BYTE 0, 0, 240, 16, 32, 64, 240, 0 .BYTE 224, 128, 128, 128, 128, 128, 224, 0 .BYTE 32, 80, 64, 224, 64, 80, 240, 0 .BYTE 112, 16, 16, 16, 16, 16, 112, 0 .BYTE 0, 64, 224, 224, 64, 64, 64, 64 .BYTE 0, BYTE 112, 16, 16, 16, 16, 16, 112, 0 .BYTE 0, 32, 112, 248, 32, 32, 32, 32 .BYTE 0, 32, 96, 248, 96, 32, 0, 0 .BYTE 0, 0, 0, 0, 0, 0, 0, 0 .BYTE 32, 32, 32, 32, 0, 0, 32, 0 .BYTE 144, 144, 0, 0, 0, 0, 0, 0 .BYTE 80, 80, 248, 80, 248, 80, 80, 0 .BY 192, 160, 144, 144, 0 .BYTE 128, 128, 128, 128, 128, 128, 240, 0 .BYTE 144, 240, 240, 144, 144, 144, 144, 0 .BYTE 144, 208, 208, 176, 176, 144, 144, 0 .BYTE 96, 144, 144, 144, 144, 144, 96, 0 .BYTE 224, 144, 144, 224, 128, 128, 128, 0 .BYTE 96, 14 0, 0, 0 .BYTE 0, 0, 0, 0, 0, 248, 248, 248 .BYTE 0, 0, 8, 144, 160, 192, 128, 0 .BYTE 0, 0, 0, 0, 192, 192, 192, 192 .BYTE 24, 24, 24, 24, 0, 0, 0, 0 .BYTE 32, 32, 32, 224, 0, 0, 0, 0 .BYTE 192, 192, 192, 192, 0, 0, 0, 0 .BYTE 224, 224, 224, 224,36, 0, 0 .BYTE 0, 32, 32, 112, 32, 32, 0, 0 .BYTE 0, 0, 0, 0, 0, 32, 32, 64 .BYTE 0, 0, 0, 240, 0, 0, 0, 0 .BYTE 0, 0, 0, 0, 0, 0, 96, 0 .BYTE 8, 8, 16, 32, 64, 128, 128, 0 .BYTE 96, 144, 144, 176, 208, 144, 96, 0 .BYTE 96, 96, 160, 32, 32, 32, 244, 144, 240, 240, 144, 0 .BYTE 144, 144, 144, 96, 144, 144, 144, 0 .BYTE 144, 144, 144, 144, 112, 16, 224, 0 .BYTE 240, 16, 32, 64, 128, 128, 240, 0 .BYTE 32, 32, 32, 248, 32, 32, 32, 32 .BYTE 248, 0, 248, 0, 248, 0, 248, 0 .BYTE 32, 32, 32, 32, 320, 128, 96, 0 .BYTE 32, 80, 64, 240, 64, 64, 64, 0 .BYTE 0, 0, 112, 144, 144, 112, 16, 224 .BYTE 128, 128, 224, 144, 144, 144, 144, 0 .BYTE 32, 0, 96, 32, 32, 32, 112, 0 .BYTE 16, 0, 16, 16, 16, 16, 16, 224 .BYTE 128, 128, 144, 160, 192, 160, 144,  , 144, 144, 96, 144, 144, 96, 0 .BYTE 96, 144, 144, 112, 16, 144, 96, 0 .BYTE 0, 0, 32, 0, 0, 32, 0, 0 .BYTE 0, 0, 32, 0, 0, 32, 32, 64 .BYTE 16, 32, 64, 128, 64, 32, 16, 0 .BYTE 0, 0, 240, 0, 240, 0, 0, 0 .BYTE 64, 32, 16, 8, 16, 32, 64, 0 .BYTE , 0, 0, 0, 0, 0, 248 .BYTE 192, 192, 192, 192, 192, 192, 192, 192 .BYTE 168, 168, 80, 80, 168, 168, 80, 80 .BYTE 24, 24, 24, 24, 24, 24, 24, 24 .BYTE 48, 64, 64, 128, 64, 64, 48, 0 .BYTE 96, 16, 16, 8, 16, 16, 96, 0 .BYTE 248, 136, 136, 136, 136, 124, 144, 128, 128, 128, 0 .BYTE 0, 0, 112, 128, 96, 16, 224, 0 .BYTE 64, 64, 240, 64, 64, 64, 48, 0 .BYTE 0, 0, 144, 144, 144, 144, 112, 0 .BYTE 0, 0, 144, 144, 144, 96, 96, 0 .BYTE 0, 0, 144, 144, 240, 240, 144, 0 .BYTE 0, 0, 144, 144, 96, 144, 14, 144, 96, 96, 0 .BYTE 0, 0, 144, 144, 240, 240, 144, 0 .BYTE 0, 0, 144, 144, 96, 144, 144, 0 .BYTE 0, 0, 144, 144, 144, 112, 16, 224 .BYTE 0, 0, 240, 16, 32, 64, 240, 0 .BYTE 112, 64, 64, 64, 64, 64, 112, 0 .BYTE 32, 80, 64, 224, 64, 80, 240, 0 .8, 192, 128, 128, 240, 0 .BYTE 240, 128, 128, 192, 128, 128, 128, 0 .BYTE 96, 144, 128, 176, 144, 144, 96, 0 .BYTE 144, 144, 144, 240, 144, 144, 144, 0 .BYTE 112, 32, 32, 32, 32, 32, 112, 0 .BYTE 120, 16, 16, 16, 16, 144, 96, 0 .BYTE 144, 144, 160,0, 0 .BYTE 0, 0, 0, 248, 32, 32, 32, 32 .BYTE 32, 32, 32, 224, 32, 32, 32, 32 .BYTE 0, 32, 48, 248, 48, 32, 0, 0 .BYTE 32, 32, 32, 32, 248, 112, 32, 0 .BYTE 56, 56, 56, 56, 56, 56, 56, 56 .BYTE 248, 248, 0, 0, 0, 0, 0, 0 .BYTE 248, 248, 248, 0, 0,TE 32, 112, 128, 112, 8, 240, 32, 0 .BYTE 136, 8, 16, 32, 64, 128, 136, 0 .BYTE 96, 144, 96, 96, 152, 144, 120, 0 .BYTE 16, 16, 32, 0, 0, 0, 0, 0 .BYTE 16, 32, 64, 64, 64, 32, 16, 0 .BYTE 64, 32, 16, 16, 16, 32, 64, 0 .BYTE 0, 136, 112, 248, 112, 14, 144, 144, 144, 96, 48, 0 .BYTE 224, 144, 144, 224, 160, 144, 144, 0 .BYTE 96, 144, 128, 96, 16, 144, 96, 0 .BYTE 248, 32, 32, 32, 32, 32, 32, 0 .BYTE 144, 144, 144, 144, 144, 144, 96, 0 .BYTE 144, 144, 144, 144, 144, 96, 96, 0 .BYTE 144, 144, 14 24, 24, 24, 24CHRSET80 .BYTE 96, 144, 176, 176, 128, 144, 96, 0 .BYTE 0, 0, 96, 16, 112, 144, 112, 0 .BYTE 128, 128, 224, 144, 144, 144, 224, 0 .BYTE 0, 0, 96, 144, 128, 144, 96, 0 .BYTE 16, 16, 112, 144, 144, 144, 112, 0 .BYTE 0, 0, 96, 144, 24	0, 0 .BYTE 96, 144, 16, 32, 64, 128, 240, 0 .BYTE 96, 144, 16, 32, 16, 144, 96, 0 .BYTE 48, 80, 80, 144, 240, 16, 16, 0 .BYTE 240, 128, 224, 16, 16, 144, 96, 0 .BYTE 96, 144, 128, 224, 144, 144, 96, 0 .BYTE 240, 144, 32, 64, 64, 64, 64, 0 .BYTE 96
, 32, 32, 32 .BYTE 80, 80, 168, 168, 80, 80, 168, 168 .BYTE 48, 152, 200, 96, 48, 152, 200, 96 .BYTE 0, 0, 0, 0, 0, 0, 0, 0 .BYTE 224, 224, 224, 224, 224, 224, 224, 224 .BYTE 0, 0, 0, 0, 248, 248, 248, 248 .BYTE 248, 0, 0, 0, 0, 0, 0, 0 .BYTE 0, 00 .BYTE 96, 32, 32, 32, 32, 32, 112, 0 .BYTE 0, 0, 144, 240, 240, 144, 144, 0 .BYTE 0, 0, 224, 144, 144, 144, 144, 0 .BYTE 0, 0, 96, 144, 144, 144, 96, 0 .BYTE 0, 0, 224, 144, 144, 224, 128, 128 .BYTE 0, 0, 112, 144, 144, 112, 16, 16 .BYTE 0, 0, 2E 0, 0, 224, 144, 144, 224, 128, 128 .BYTE 0, 0, 112, 144, 144, 112, 16, 16 .BYTE 0, 0, 224, 144, 128, 128, 128, 0 .BYTE 0, 0, 112, 128, 96, 16, 224, 0 .BYTE 64, 64, 240, 64, 64, 64, 48, 0 .BYTE 0, 0, 144, 144, 144, 144, 112, 0 .BYTE 0, 0, 144, 144, 0 .BYTE 0, 0, 102, 85, 73, 73, 65, 0 .BYTE 0, 0, 124, 66, 66, 66, 66, 0 .BYTE 0, 0, 60, 66, 66, 66, 60, 0 .BYTE 0, 0, 124, 66, 66, 124, 64, 64 .BYTE 0, 0, 62, 66, 66, 62, 2, 2 .BYTE 0, 0, 124, 70, 64, 64, 64, 0 .BYTE 0, 0, 62, 64, 60, 2, 124, 0, 4, 8, 0, 8, 0 .BYTE 0, 0, 0, 255, 0, 0, 0, 0 .BYTE 24, 36, 66, 126, 66, 66, 66, 0 .BYTE 124, 66, 66, 124, 66, 66, 124, 0 .BYTE 60, 66, 64, 64, 64, 66, 60, 0 .BYTE 120, 68, 66, 66, 66, 68, 120, 0 .BYTE 126, 64, 64, 120, 64, 64, 126, 0 .BYTE 126,  .BYTE 0, 0, 0, 0, 0, 0, 255, 255 .BYTE 0, 0, 0, 31, 16, 16, 16, 16 .BYTE 16, 16, 16, 255, 0, 0, 0, 0 .BYTE 0, 0, 0, 255, 16, 16, 16, 16 .BYTE 16, 16, 16, 240, 16, 16, 16, 16 .BYTE 0, 8, 12, 254, 254, 12, 8, 0 .BYTE 24, 24, 24, 24, 126, 60, 24, 0 E 60, 32, 32, 32, 32, 32, 60, 0 .BYTE 12, 18, 32, 124, 32, 66, 252, 0 .BYTE 60, 4, 4, 4, 4, 4, 60, 0 .BYTE 0, 24, 60, 126, 24, 24, 24, 24 .BYTE 0, 16, 48, 127, 127, 48, 16, 0 .BYTE 0, 0, 0, 0, 0, 0, 0, 0 .BYTE 16, 16, 16, 16, 0, 0, 16, 0 .BYTE 36,E 65, 99, 85, 73, 65, 65, 65, 0 .BYTE 66, 66, 98, 82, 74, 70, 66, 0 .BYTE 60, 66, 66, 66, 66, 66, 60, 0 .BYTE 124, 66, 66, 124, 64, 64, 64, 0 .BYTE 60, 66, 66, 66, 66, 60, 14, 0 .BYTE 124, 66, 66, 124, 72, 68, 66, 0 .BYTE 60, 66, 64, 60, 2, 66, 60, 24, 24, 248, 248, 0, 0, 0 .BYTE 240, 240, 240, 240, 0, 0, 0, 0 .BYTE 240, 240, 240, 240, 15, 15, 15, 15CHRSET64 .BYTE 96, 144, 176, 176, 128, 144, 96, 0 .BYTE 0, 0, 96, 16, 112, 144, 112, 0 .BYTE 128, 128, 224, 144, 144, 144, 224, 0 .BYTE 0, 0,  4, 8, 16, 0 .BYTE 0, 102, 60, 255, 60, 102, 0, 0 .BYTE 0, 16, 16, 124, 16, 16, 0, 0 .BYTE 0, 0, 0, 0, 0, 16, 16, 32 .BYTE 0, 0, 0, 124, 0, 0, 0, 0 .BYTE 0, 0, 0, 0, 0, 0, 24, 0 .BYTE 0, 2, 4, 8, 16, 32, 64, 0 .BYTE 60, 70, 74, 82, 98, 66, 60, 0  126, 0 .BYTE 16, 16, 16, 255, 16, 16, 16, 16 .BYTE 255, 0, 255, 0, 255, 0, 255, 0 .BYTE 16, 16, 16, 16, 16, 16, 16, 16 .BYTE 51, 51, 204, 204, 51, 51, 204, 204 .BYTE 51, 153, 204, 102, 51, 153, 204, 102 .BYTE 0, 0, 0, 0, 0, 0, 0, 0 .BYTE 240, 240 32, 112, 0 .BYTE 16, 0, 16, 16, 16, 16, 16, 224 .BYTE 128, 128, 144, 160, 192, 160, 144, 0 .BYTE 96, 32, 32, 32, 32, 32, 112, 0 .BYTE 0, 0, 144, 240, 240, 144, 144, 0 .BYTE 0, 0, 224, 144, 144, 144, 144, 0 .BYTE 0, 0, 96, 144, 144, 144, 96, 0 .BYT6, 64, 60, 0 .BYTE 12, 18, 16, 60, 16, 16, 16, 0 .BYTE 0, 0, 62, 66, 66, 62, 2, 124 .BYTE 64, 64, 124, 66, 66, 66, 66, 0 .BYTE 24, 0, 56, 8, 8, 8, 60, 0 .BYTE 2, 0, 2, 2, 2, 2, 2, 60 .BYTE 64, 64, 72, 80, 112, 72, 68, 0 .BYTE 56, 8, 8, 8, 8, 8, 60TE 60, 66, 66, 60, 66, 66, 60, 0 .BYTE 60, 66, 66, 62, 2, 66, 60, 0 .BYTE 0, 0, 16, 0, 0, 16, 0, 0 .BYTE 0, 0, 16, 0, 0, 16, 16, 32 .BYTE 12, 16, 32, 64, 32, 16, 12, 0 .BYTE 0, 0, 126, 0, 126, 0, 0, 0 .BYTE 48, 8, 4, 2, 4, 8, 48, 0 .BYTE 60, 66, 2YTE 12, 16, 16, 32, 16, 16, 12, 0 .BYTE 48, 8, 8, 4, 8, 8, 48, 0 .BYTE 254, 130, 130, 130, 130, 130, 130, 254 .BYTE 16, 16, 16, 31, 16, 16, 16, 16 .BYTE 0, 0, 0, 0, 15, 15, 15, 15 .BYTE 16, 16, 16, 31, 0, 0, 0, 0 .BYTE 0, 0, 0, 240, 16, 16, 16, 16 .BYTE 16, 16, 126, 16, 16, 16, 14, 0 .BYTE 0, 0, 66, 66, 66, 66, 62, 0 .BYTE 0, 0, 66, 66, 66, 36, 24, 0 .BYTE 0, 0, 65, 73, 73, 42, 54, 0 .BYTE 0, 0, 66, 36, 24, 36, 66, 0 .BYTE 0, 0, 66, 66, 66, 62, 2, 124 .BYTE 0, 0, 126, 4, 8, 48, 126, 0 .BYT64, 64, 120, 64, 64, 64, 0 .BYTE 60, 66, 64, 78, 66, 66, 60, 0 .BYTE 66, 66, 66, 126, 66, 66, 66, 0 .BYTE 56, 16, 16, 16, 16, 16, 56, 0 .BYTE 30, 4, 4, 4, 4, 68, 56, 0 .BYTE 66, 68, 72, 112, 104, 68, 66, 0 .BYTE 64, 64, 64, 64, 64, 64, 126, 0 .BYT.BYTE 7, 7, 7, 7, 7, 7, 7, 7 .BYTE 255, 255, 0, 0, 0, 0, 0, 0 .BYTE 255, 255, 255, 0, 0, 0, 0, 0 .BYTE 0, 0, 0, 0, 0, 255, 255, 255 .BYTE 1, 3, 6, 108, 120, 112, 96, 0 .BYTE 0, 0, 0, 0, 240, 240, 240, 240 .BYTE 15, 15, 15, 15, 0, 0, 0, 0 .BYTE 24, 36, 36, 0, 0, 0, 0, 0 .BYTE 66, 66, 255, 66, 255, 66, 66, 0 .BYTE 24, 62, 96, 60, 6, 124, 24, 0 .BYTE 0, 98, 4, 8, 16, 32, 70, 0 .BYTE 60, 66, 44, 56, 71, 66, 63, 0 .BYTE 4, 4, 8, 0, 0, 0, 0, 0 .BYTE 8, 16, 32, 32, 32, 16, 8, 0 .BYTE 16, 8, 4, 4, 0 .BYTE 124, 16, 16, 16, 16, 16, 16, 0 .BYTE 66, 66, 66, 66, 66, 66, 60, 0 .BYTE 66, 66, 66, 66, 66, 36, 24, 0 .BYTE 65, 65, 65, 73, 73, 85, 99, 0 .BYTE 66, 66, 36, 24, 36, 66, 66, 0 .BYTE 68, 68, 68, 40, 16, 16, 16, 0 .BYTE 126, 2, 4, 8, 16, 32,	96, 144, 128, 144, 96, 0 .BYTE 16, 16, 112, 144, 144, 144, 112, 0 .BYTE 0, 0, 96, 144, 240, 128, 96, 0 .BYTE 32, 80, 64, 240, 64, 64, 64, 0 .BYTE 0, 0, 112, 144, 144, 112, 16, 224 .BYTE 128, 128, 224, 144, 144, 144, 144, 0 .BYTE 32, 0, 96, 32, 32, .BYTE 24, 24, 40, 8, 8, 8, 126, 0 .BYTE 60, 66, 2, 12, 16, 32, 126, 0 .BYTE 60, 66, 2, 28, 2, 66, 60, 0 .BYTE 12, 20, 36, 68, 126, 4, 4, 0 .BYTE 126, 64, 124, 2, 2, 66, 60, 0 .BYTE 60, 66, 64, 124, 66, 66, 60, 0 .BYTE 126, 66, 4, 8, 8, 8, 8, 0 .BY, 240, 240, 240, 240, 240, 240 .BYTE 0, 0, 0, 0, 255, 255, 255, 255 .BYTE 255, 0, 0, 0, 0, 0, 0, 0 .BYTE 0, 0, 0, 0, 0, 0, 0, 255 .BYTE 192, 192, 192, 192, 192, 192, 192, 192 .BYTE 204, 204, 51, 51, 204, 204, 51, 51 .BYTE 3, 3, 3, 3, 3, 3, 3, 3 .B;---------------------------------------;; ÌABEL DEFINITIONS FOR Ã-×ÉÎÄÏ×Ó Ö1.00;; ÆILENAME: SYS¤DEFS.I; ÁUTHOR: ÒUBENS ÁBBOUD; ÕPDATED: 11/08/87;;---------------------------------------;---------------------------------------; É/Ï, VIDEO & MIIN        = $DF;---------------------------------------; ÚERO PAGE SYSTEM LOCATIONS - ÔEMPORARY;---------------------------------------ÌASTÃHAR      = $D7   ; ÁÓÃÉÉ VALUE OF LAST CHARACTER PRINTEDØÐOSÌOW       = $E0   ; X POSITION (LOW BYTE)ÃHARÓERNALOUT, KERNALIN; ÓWITCH ËERNAL ÒÏÍ OUT OF 6510 ADDRESSING SPACEKERNALOUT PHA SEI LDA $DC0E AND #$FE STA $DC0E        ; TURN OFF THE ÉÒÑ TIMER LDA #$34         ; SWITCH KERNAL OUT STA ÒAMÃONTROL PLA              ; ACC. RETURNS WITH PREVIOUSOUND COLORÓÈÆÌÁÇ        = $028D ; ÓHIFT/ÃÔÒÌ/ÌOGO KEYPRESS FLAGC$PARMS       = $033C ; Ã-ÐOWER PARAMETER PASSING AREAÃHARÍEMÂASE   = $C400 ; CHARACTER STORAGE MEMORY ADDRESSÃHARÍEMÅND    = $CBCF ; CHARACTER STORAGE MEMORY ENDÓCREEN        = $CC00 ; ORARY STORAGE FOR Y REGISTER;---------------------------------------; ÚERO PAGE SYSTEM LOCATIONS - ÓTATIC;---------------------------------------ÒEVERSEÂYTE   = $C7   ; VALUE FOR REVERSE ON/OFFÃOLUMN        = $D3   ; CURRENT CURSOR COLUMNÒOW      SAVE REGISTERS TYA PHA TXA PHA LDA #>NMIEXIT    ; PREPARE 'RTI' ADDRESS IN STACK - HIGH ORDER BYTE PHA LDA #<NMIEXIT    ; LOW ORDER BYTE PHA PHP              ; SAVE PROCESSOR STATUS WORD JSR KERNALIN     ; MAKE SURE THAT KERNAL IS SWITCHED INP BASE ADDRESSÂITÍAPÅND     = $FF3F ; BITMAP END ADDRESS; ËERNAL DEFINITIONSÃÉÎÔ          = $FF81 ; INITIALIZE SCREEN EDITOR & VIDEO CHIPÉÏÉÎÉÔ        = $FF84 ; INITIALIZE É/Ï DEVICESÒÅÓÔÏÒ        = $FF8A ; RESTORE DEFAULT É/Ï VECTORS;---------- ð     = $ED   ; CHARACTER WIDTH, IN PIXELS ;---------------------------------------; ×INDOW BORDER LIMITS - ÓTATIC;---------------------------------------ÌEFTÅDGE      = $EEÒIGHTÅDGE     = $EFÔOPÅDGE       = $F0ÂOTTOMÅDGE    = $F1COLUMNÒOW     K EOR #$FF STA ÔEMPÓTG5 LDA (ÂITÐTR2),Y STA ÂITÍASK2 EOR #$FF STA ÔEMPÓTG6 RTS; ÃLEAR CURRENTLY ACTIVE WINDOW. .DEF ÃLEAR×INDOWÃLEAR×INDOW LDY ÔOPÅDGE STY ÒOW LDA ÌEFTÅDGE STA ÃOLUMN INYCLEARW2 TYA PHA JSR ÃLEARÌINE   ; CALL ÃLEARÌ   = $DEÔEMPÓTG7      = $DF; ÆOR ÍOVE ROUTINE  (ÔEMPORARY SHARED)SRCE          = $D9   ; SOURCE OF MOVEDEST          = $DB   ; DESTINATION OF MOVENBYTES        = $DD   ; NUMBER OF BYTES TO MOVENBLKS         = $DE   ; NUMBER OF BLOCKS TO MOVEREMA; ===================================================; ÆILENAME: SYS¤SETS.I; ÁUTHOR:   ÒUBENS ÁBBOUD; ÕPDATED:  13/06/87;; ÄESCRIPTION: 40, 64, AND 80 COLUMN CHARACTER SETS; FOR Ã-×ÉÎÄÏ×Ó Ö1.00.;; =================================================; ÁLLOWS RS-232 COMMUNICATIONS AND; PRINTING TO SCREEN (IN 40/64/80; COLUMNS) AT SAME TIME.;; ÖERSION 1.00 COULD NOT HANDLE; NMI INTERRUPTS WHILE THE KERNAL WAS; SWITCHED OUT FOR SCREEN UPDATING.;;--------------------------------------- .DEF KSC. LABEL DEFINITIONS;---------------------------------------ÒAMÃONTROL    = $01   ; ÒÁÍ/ÒÏÍ CONTROLÄÆÌÔÏ         = $9A   ; DEFAULT OUTPUT DEVICEÓTACK         = $0100 ; SYSTEM STACKÔEXTÃOLOR     = $0286 ; TEXT COLORÂACKÃOLOR     = $0287 ; BACKGRTORE     = $E1   ; CURRENT CHARACTER BIT DEFINITIONÂITÍASK       = $E3   ; MASK FOR CURRENT CHARACTER (LEFT)ÂITÍASK2      = $E4   ; MASK FOR CURRENT CHARACTER (RIGHT)ØÓTORE        = $E5   ; TEMPORARY STORAGE FOR X REGISTERÙÓTORE        = $E6   ; TEMP ÒAMÃONTROL RTS; ÓWITCH ËERNAL ÒÏÍ INTO 6510 ADDRESSING SPACEKERNALIN PHA LDA #$36 STA ÒAMÃONTROL   ; SWITCH KERNAL IN LDA $DC0E        ; TURN ÉÒÑ TIMER BACK ON ORA #1 STA $DC0E PLA CLI RTS; ÎEW ÎÍÉ HANDLERNMIHANDLER PHA              ;COLOR MEMORY ADDRESSÅNABLEÂITÍAP  = $D011 ; ENABLE BITMAP MODEÂITÍAPÂLOCK   = $D018 ; BITMAP BLOCKÂORDERÃOLOR   = $D020 ; BORDER COLORÖÉÃÂANK       = $DD00 ; SELECT 16Ë BANKÄATAÄIRECT    = $DD02 ; DATA DIRECTION CONTROLÂITÍAPÂASE    = $E000 ; BITMA      = $D6   ; CURRENT CURSOR ROWÂITÐTR        = $E7   ; MASK TABLE IN USE (LEFT)ÂITÐTR2       = $E9   ; MASK TABLE IN USE (RIGHT)ÓCREEN×IDTH   = $EB   ; CURRENT SCREEN WIDTHÍODEÉNDEX     = $EC   ; MODE INDEX (0 = 40, 1 = 64, 2 = 80 COLS.)ÃHARÓIZE   SEI JMP $FE47        ; SO THAT THE NORMAL NMI HANDLER CAN BE CALLEDNMIEXIT JSR KERNALOUT    ; SWITCH KERNAL OUT PLA TAX PLA TAY PLA RTITURN ÉÒÑ TIMER BACK ON ORA #1 STA $DC0E PLA CLI RTS; ÎEW ÎÍÉ HANDLERNMIHANDLER PHA              ;	-----------------------------; ÚERO PAGE STORAGE LOCATIONS ;---------------------------------------; ÔEMPORARY STORAGE (ÔEMPORARY SHARED)ÔEMPÓTG1      = $D9ÔEMPÓTG2      = $DAÔEMPÓTG3      = $DBÔEMPÓTG4      = $DCÔEMPÓTG5      = $DDÔEMPÓTG6   
== .DEF CHRSET40, CHRSET64, CHRSET80CHRSET40 .BYTE 60, 66, 90, 94, 64, 66, 60, 0 .BYTE 0, 0, 60, 2, 62, 66, 62, 0 .BYTE 64, 64, 124, 66, 66, 66, 124, 0 .BYTE 0, 0, 60, 66, 64, 66, 60, 0 .BYTE 2, 2, 62, 66, 66, 66, 62, 0 .BYTE 0, 0, 60, 66, 12INE FOR EACH ROW THAT PLA             ; HAS TO BE CLEARED. TAY INY CPY ÂOTTOMÅDGE BCC CLEARW2 BEQ CLEARW2 RTS;---------------------------------------;; ÎÍÉ ÈANDLING & ÒÏÍ ÃONFIGURATION;; 22/08/87;; ÎEW ROUTINE - MODIFIES Ö1.00 TO Ö1.10;LL ROUTINES;--------------------------------------; ÔABLES FOR ÓCROLLÓCREEN ROUTINE.; ÃHANGE THEIR VALUES ACCORDINGLY IF THE SCREEN; DIMENSIONS ARE CHANGED IN ANY WAY. ÆOR EXAMPLE, IF YOU; WISH TO HAVE SOME SORT OF STATUS LINE(S) ALWAYS; PRESENT   ; THUS SCROLLING MEMORY UP. LDA ÔEMPÓTG2 STA Ó×INDÄEST+1 ADC #>320 STA Ó×INDÓRCE+1 LDY ÒIGHTÅDGE   ; FIND OUT NUMBER OF BYTES TO SCROLL INY TYA LDY ÃHARÓIZE    ; ON EACH ROW. LDX ÔOPÅDGE JSR ÆINDÌOC SEC LDA ÔEMPÓTG1 SBC Ó×INDÄEST STA Ó×IF CHARACTER AND ÔEMPÓTG6 STA (ÔEMPÓTG1),Y DEY CPY #7 BNE CLEAR2CLEAR3 LDA (ÔEMPÓTG1),Y ; CLEAR LEFT HALF AND ÔEMPÓTG5 STA (ÔEMPÓTG1),Y DEY BPL CLEAR3 INC ÔEMPÓTG3 LDA ÔEMPÓTG3 CMP ÒIGHTÅDGE BCC CLEAR1; ÃLEAR A LINE IN CHARACTER MEMORY.THE SCREEN OR WINDOW IS ZERO OR NOT. ÉF; ONLY A SCREEN IS ACTIVE, THE VALUE WOULD BE ZERO,; WHILE A NON-ZERO VALUE WOULD INDICATE AN ACTIVE WINDOW.×HICHÓCROLL LDA ÓCROLLÅNABLE   ; ÓCREEN SCROLL DISABLED? BEQ WSCROLL2       ; ÎO = 0 RTSWSCROLL2 Y #>Ó×INDÓRCE JSR ÐREÍOVE JSR ÍOVE CLC LDA Ó×INDÓRCE STA Ó×INDÄEST ADC #<320 STA Ó×INDÓRCE LDA Ó×INDÓRCE+1 STA Ó×INDÄEST+1 ADC #>320 STA Ó×INDÓRCE+1 DEX BNE SCROLL1 LDY ÂOTTOMÅDGE  ; PLACE CURSOR AT BOTTOM ROW, FIRST DEY             ; COLU SHOULD CONTAIN THE CHARACTER SIZE; (ÃHARÓIZE) AND CHARACTER COLUMN POSITION. Ø REGISTER; SHOULD CONTAIN THE ROW OFFSET.ÆINDÌOC STX ÔEMPÓTG7 JSR ÍULTIPLY LDY ÔEMPÓTG7    ; INDEX TO OFFSET TABLE CLC LDA ÔEMPÓTG1 PHA AND #$F8 ADC ÙÏFFSETÌO,Y ; ÍASK64,  <ÍASK80ÍASKÐTRH   .BYTE >ÍASK40,  >ÍASK64,  >ÍASK80; ÒIGHT SIDE.ÍASKÐTRL2  .BYTE <ÍASK802, <ÍASK642, <ÍASK802ÍASKÐTRH2  .BYTE >ÍASK802, >ÍASK642, >ÍASK802ÍASK80 .BYTE %11110000, %01111000, %00111100, %00011110, %00001111ÍASK802 .BYTE PREPARE FOR MOVE LDY ÂOTTOMÅDGE     ; CURSOR WILL BE ON BOTTOM ROW DEY                ; AFTER THE SCROLL STY ÒOW LDX ÌEFTÅDGE STX ÃOLUMN JSR ÍOVE LDA #<ÓCROLLÔABLE2 ; SCROLL CHARACTER MEMORY LDY #>ÓCROLLÔABLE2 JSR ÐREÍOVE JSR ÍOVE JMP CLEARBONDÄEST+1 ADC #0 STA Ó×INDÓRCE+1 SEC LDA ÒIGHTÅDGE SBC ÌEFTÅDGE STA Ó×INDÂYTES LDA #0 STA Ó×INDÂYTES+1 SEC              ; CALCULATE NUMBER OF ROWS TO SCROLL LDA ÂOTTOMÅDGE SBC ÔOPÅDGE TAX DEXMOVECHAR1 LDA #<Ó×INDÓRCE LDY #>Ó×INDÓRCE JSR  100000, %11110000ÍASK40 .BYTE %11111111, %11111111; ÐOINTERS TO CURRENT CHARACTER SET.ÓETÐTRL .BYTE <CHRSET40, <CHRSET64, <CHRSET80ÓETÐTRH .BYTE >CHRSET40, >CHRSET64, >CHRSET80 ;--------------------------------------;  ÓCREEN & WINDOW SCROINDOW LDA ÌEFTÅDGE LDY ÃHARÓIZE    ; CALCULATE DESTINATION ADDRESS FOR LDX ÔOPÅDGE     ; SCROLL JSR ÆINDÌOC CLC LDA ÔEMPÓTG1 STA Ó×INDÄEST   ; NOW, CALCULATE SOURCE ADDRESS BY ADC #<320       ; ADDING 320 (DEC) TO THE DESTINATION, STA Ó×INDÓRCE ; ROW NUMBER TO BE CLEARED PLUS ONE.ÃLEARÌINE LDX ÌEFTÅDGE STX ÔEMPÓTG3 STY ÔEMPÓTG4 JSR KERNALOUTCLEAR1 LDX ÔEMPÓTG4 DEX LDA ÔEMPÓTG3 LDY ÃHARÓIZE JSR ÆINDÌOC      ; GET BYTE LOCATION LDY #15CLEAR2 LDA (ÔEMPÓTG1),Y ; CLEAR RIGHT HALF OON THE SCREEN TOP OR BOTTOM.ÓCROLLÔABLE   .WORD ÂITÍAPÂASE+320, ÂITÍAPÂASE, 7680ÓCROLLÔABLE2  .WORD ÃHARÍEMÂASE+80, ÃHARÍEMÂASE, 1920 .DEF ÓCROLLÅNABLEÓCROLLÅNABLE    .BYTE 0; ÄECIDE WHICH SCROLL ROUTINE TO USE BY CHECKING IF THE; LEFT EDGE OF NDÂYTES   ; NUMBER OF BYTES ( < 256) LDA ÔEMPÓTG2 SBC Ó×INDÄEST+1 STA Ó×INDÂYTES+1 ; NUMBER OF BLOCKS SEC              ; CALCULATE NUMBER OF ROWS TO SCROLL LDA ÂOTTOMÅDGE SBC ÔOPÅDGE TAX DEX; ÓCROLL THEM LINES UP!SCROLL1 LDA #<Ó×INDÓRCE LD LDY ÔEMPÓTG4 DEY LDA ÒOWÏFFSETÌO,Y STA ÔEMPÓTG1 LDA ÒOWÏFFSETÈI,Y STA ÔEMPÓTG2 LDY ÌEFTÅDGE LDA #32CLEARCHRLINE STA (ÔEMPÓTG1),Y INY CPY ÒIGHTÅDGE BCC CLEARCHRLINE JMP KERNALIN; ÆIND LOCATION OF A BYTE IN THE BITMAP.;; Á & Ù REGISTERSLDA ÌEFTÅDGE BNE ÓCROLL×INDOW; ÔHIS ROUTINE IS ONLY USED TO SCROLL THE ×ÈÏÌÅ SCREEN; UP ONE ROW. ÓCROLLING OF WINDOWS IS HANDLED BY; ANOTHER, SLOWER, ROUTINE.ÓCROLLÓCREEN LDA #<ÓCROLLÔABLE  ; SCROLL HI-RES LDY #>ÓCROLLÔABLE JSR ÐREÍOVE        ;MN OF WINDOW. STY ÒOW LDA ÌEFTÅDGE STA ÃOLUMN; ÓCROLL CHARACTER MEMORY. LDY ÔOPÅDGESCROLLCHRMEM CLC LDA ÒOWÏFFSETÌO,Y ADC ÌEFTÅDGE STA Ó×INDÄEST LDA ÒOWÏFFSETÈI,Y ADC #0 STA Ó×INDÄEST+1 CLC LDA Ó×INDÄEST ADC #80 STA Ó×INDÓRCE LDA Ó×IADD ROW OFFSET STA ÔEMPÓTG1 LDA ÔEMPÓTG2    ; X HIGH ADC ÙÏFFSETÈI,Y ; ADD IN ROW OFFSET HI STA ÔEMPÓTG2; ÄETERMINE THE APPROPRIATE MASK TO USE WHEN; MANIPULATING CHARACTERS (40, 64, OR 80 COL MASKS). PLA AND #7 TAY LDA (ÂITÐTR),Y STA ÂITÍAS	 %00000000, %00000000, %00000000, %00000000, %00000000ÍASK64 .BYTE %11111000, %01111100, %00111110, %00011111, %00001111 .BYTE %00000111, %00000011, %00000001ÍASK642 .BYTE %00000000, %00000000, %00000000, %00000000, %10000000 .BYTE %11000000, %11
TM      ; CLEAR THE BOTTOM LINE;---------------------------------------; ÓCROLL WINDOW ROUTINE;--------------------------------------- .DEF Ó×INDÓRCE, Ó×INDÄEST, Ó×INDÂYTESÓ×INDÓRCE     .WORD 0Ó×INDÄEST     .WORD 0Ó×INDÂYTES    .WORD 0ÓCROLL×ÐREÍOVE JSR ÍOVE CLC LDA Ó×INDÓRCE STA Ó×INDÄEST ADC #80 STA Ó×INDÓRCE LDA Ó×INDÓRCE+1 STA Ó×INDÄEST+1 ADC #0 STA Ó×INDÓRCE+1 DEX BNE MOVECHAR1CLEARBOTM LDY ÂOTTOMÅDGE   ; CLEAR BOTTOM LINE; ÃLEAR ANY LINE - Ù REGISTER SHOULD CONTAIN THE, <64704 .BYTE <65024ÙÏFFSETÈI .BYTE >57344, >57664, >57984, >58304 .BYTE >58624, >58944, >59264, >59584 .BYTE >59904, >60224, >60544, >60864 .BYTE >61184, >61504, >61824, >62144 .BYTE >62464, >62784, >63104, >63424 .BYTE >63744, >64064, >64384, A PROPAGATING MOVE; ÃLEAR CHARACTER MEMORY WHERE ALL CHARACTER CODES ARE; STORED.ÃLEARÃHARMEM LDA #<ÃHARÔABLE LDY #>ÃHARÔABLE JSR ÐREÍOVE LDA #32           ; FILL CHAR MEMORY WITH SPACES LDY #0 STA (SRCE),Y JMP ÍOVE          ; PROPAGATING MO >ÃÒEVERSE,   >ÃÎOÒEVERSE, >ÃURSORÈOME,>ÃURSORÌEFT .BYTE >×HICHÃLEAR, >ÃURSORÕP,   >ÃURSORÄOWN,>ÃGÒETURN .BYTE >ÃÄELETE,    >ÃURSORÒIGHT;---------------------------------------;; ÔÁÂÌÅÓ:  ÔHE FOLLOWING DEFINITIONS; ALLOW OTHER PROGRAMS OR ROUTINES<51136, <51216, <51296, <51376 .BYTE <51456, <51536, <51616, <51696 .BYTE <51776, <51856, <51936, <52016 .BYTE <52096ÒOWÏFFSETÈI .BYTE >50176, >50256, >50336, >50416 .BYTE >50496, >50576, >50656, >50736 .BYTE >50816, >50896, >50976, >51056 .BYTE .DEF ÍULTIPLY; ÍULTIPLY ANY TWO SINGLE-BYTE INTEGERS.; Á & Ù SHOULD CONTAIN THE INTEGERS TO BE MULTIPLIED; AND ÔEMPÓTG1 & ÔEMPÓTG2 CONTAIN THE 2-BYTE PRODUCT.ÍULTIPLY STY ÔEMPÓTG2 TAY TXA PHA LDX #$00 STX ÔEMPÓTG1 LDX #$08 TYAÍULTIPLY2S OF THE TABLE CONTAINING THE VALUES TO BE; USED.ÐREÍOVE STA SUBLOOP+1 STY SUBLOOP+2 LDY #$05SUBLOOP LDA !$0000,Y STA !SRCE,Y DEY BPL SUBLOOP RTS; ÔAKEN FROM ÔHE ÔRANSACTOR - ÖOL 7, 02ÍOVE JSR KERNALOUT     ; MOVE RAM ONLY LDA NBLKS BH FOLLOWS...;;--------------------------------------- .DEF ÃOLUMNÔABLE, ÓIZEÔABLE .DEF ÙÏFFSETÌO,   ÙÏFFSETÈI .DEF ÒOWÏFFSETÌO, ÒOWÏFFSETÈI; ÕSING ÍÏÄÅÉÎÄÅØ, THIS TABLE IS USED TO FIND THE NUMBER; OF COLUMNS THE CALLING JOB REQUIRES.ÃOLUMNÔABL COLOR MEMORY,;  AND CHARACTER MEMORY.;--------------------------------------ÂITÍAPÔABLE  .WORD ÂITÍAPÂASE, ÂITÍAPÂASE+1, 7999ÓCREENÔABLE  .WORD ÓCREEN, ÓCREEN+1, 999ÃHARÔABLE    .WORD ÃHARÍEMÂASE, ÃHARÍEMÂASE+1, 1999; ÃLEAR ÈI-ÒES SCREEN.ÃLEAR----;  ÄATA ÔABLES;--------------------------------------; ÔABLES WERE USED EXTENSIVELY TO PROVIDE FAST EXECUTION; BY CUTTING DOWN ON CALCULATION TIMES.; ÖALUES FOR SPECIAL CURSOR AND OTHER CONTROL KEYS.; ÙOU CAN TRAP SPECIAL KEYS THIS WAY FOR YO FOR THIS TABLE TO WORK.ÙÏFFSETÌO .BYTE <57344, <57664, <57984, <58304 .BYTE <58624, <58944, <59264, <59584 .BYTE <59904, <60224, <60544, <60864 .BYTE <61184, <61504, <61824, <62144 .BYTE <62464, <62784, <63104, <63424 .BYTE <63744, <64064, <64384OR LDA #<ÓCREENÔABLE LDY #>ÓCREENÔABLE JSR ÐREÍOVE LDA ÔEXTÃOLOR     ; CHARACTER COLOR ASL A             ; MOVE HIGH NIBBLE ASL A ASL A ASL A ORA ÂACKÃOLOR     ; GET BACKGROUND LDY #0 STA (SRCE),Y      ; STORE FILL BYTE JMP ÍOVE          ; DONUMBER OF CTRL COMMANDS; ÐOINTERS TO THE CURSOR AND SCREEN CONTROL ROUTINES.ÃÁDDRESSÌO .BYTE <ÃÒEVERSE,   <ÃÎOÒEVERSE, <ÃURSORÈOME,<ÃURSORÌEFT .BYTE <×HICHÃLEAR, <ÃURSORÕP,   <ÃURSORÄOWN,<ÃGÒETURN .BYTE <ÃÄELETE,    <ÃURSORÒIGHTÃÁDDRESSÈI .BYTE >64704 .BYTE >65024; ÃHARACTER MEMORY STORAGE ROW OFFSET. ÃHARACTER MEMORY; MUST RESIDE AT $C400 FOR THIS TO WORK.ÒOWÏFFSETÌO .BYTE <50176, <50256, <50336, <50416 .BYTE <50496, <50576, <50656, <50736 .BYTE <50816, <50896, <50976, <51056 .BYTE VE HERE TOO.;--------------------------------------;  ÍOVE AND ÐREÍOVE ROUTINES;-------------------------------------- .DEF ÐREÍOVE, ÍOVE; ÓET UP SOURCE, DESTINATION AND #OF BYTES FOR ÍOVE; ROUTINE.  Á & Ù CONTAIN THE LOW AND HIGH ORDER; ADDRES TO; ACCESS THE TABLES ALREADY PRESENT IN; THIS MODULE WITHOUT HAVING TO RECODE; THEM.  ÔHESE TABLES REMAIN CONSTANT; THROUGHOUT AND THEY SHOULD BE USED IF; YOU DECIDE TO WRITE YOUR OWN ROUTINES; TO INTERFACE TO THIS MODULE.  Á; DESCRIPTION OF EAC >51136, >51216, >51296, >51376 .BYTE >51456, >51536, >51616, >51696 .BYTE >51776, >51856, >51936, >52016 .BYTE >52096; ÐOINTERS TO THE 40, 64, AND 80 COLUMN MASK TABLES.; ÐOINTERS TO MASKS FOR LEFT SIDE OF CHARACTER.ÍASKÐTRL   .BYTE <ÍASK40,  < ASL ÔEMPÓTG1 ROL ÔEMPÓTG2 BCS ÍULTIPLY4ÍULTIPLY3 DEX BNE ÍULTIPLY2 PLA TAX RTSÍULTIPLY4 CLC TYA ADC ÔEMPÓTG1 STA ÔEMPÓTG1 LDA ÔEMPÓTG2 ADC #0 STA ÔEMPÓTG2 JMP ÍULTIPLY3;--------------------------------------;  ÃLEAR ÈI-ÒES SCREEN,EQ DONEBL LDA #0START STA REMAIN LDY #0NXTBYT LDA (SRCE),Y STA (DEST),Y INY CPY REMAIN BNE NXTBYT INC SRCE+1 INC DEST+1 DEC NBLKS BMI DONE BNE NXTBYTDONEBL LDA NBYTES BNE STARTDONE JMP KERNALIN;----------------------------------	E  .BYTE 40, 64, 80; ÕSING ÍÏÄÅÉÎÄÅØ, THIS TABLE IS USED TO FIND OUT HOW; MANY BITS WIDE WILL THE CURRENT SCREEN WIDTH ALLOW; EACH CHARACTER TO BE.ÓIZEÔABLE    .BYTE 8, 5, 4; ÔABLE OF Y OFFSETS FOR BITMAP. ÎOTE THAT BITMAP MUST; RESIDE AT $Å000 
ÒAM LDA #<ÂITÍAPÔABLE LDY #>ÂITÍAPÔABLE JSR ÐREÍOVE LDA #0            ; FILL WITH ZEROES TAY STA (SRCE),Y JSR ÍOVE          ; DO A PROPAGATING MOVE JSR ÃLEARÃOLOR JMP ÃLEARÃHARMEM; ÃLEAR COLOR MEMORY USING TEXT AND BACKGROUND COLORS.ÃLEARÃOLUR OWN USE.; ÊUST PUT THE VALUE IN ÃNTRLÔABLE, ADJUST CNUM TO REFLECT; THE TOTAL NUMBER OF COMMANDS AND PUT THE ADDRESS OF THE; EXECUTING ROUTINE IN ÃÁDDRESSÌO & ÃÁDDRESSÈI.ÃNTRLÔABLE .BYTE 18,146,19,157,147 .BYTE 145,17,13,20,29CNUM = 10     ; RDINATE LDY ÒOW         ; ROW OFFSET CLC LDA ÔEMPÓTG1 STA ØÐOSÌOW     ; STORE X COORDINATE LOW AND #$F8 ADC ÙÏFFSETÌO,Y ; ADD ROW OFFSET PHA STA PRINTCH+1   ; BITMAP ADDRESS LOW STA PRINTCH2+1 LDA ÔEMPÓTG2    ; X HIGH ADC ÙÏFFSETÈI,Y ; ADD IN FT CHARACTER FIELD ORA ÃHARÓTORE   ; MERGE LEFT SIDE OF CHAR INPRINTCH2 STA !$0000,X    ; PLACE IT ON SCREENPRINTCH3 LDA !$0000,X    ; NOW DO THE RIGHT SIDE AND ÔEMPÓTG2    ; CLEAR OUT RIGHT CHARACTER FIELD ORA ÃHARÓTORE+1 ; MERGE RIGHT SIDE IN  TOEXIT AND #$3F ORA #$40 JMP ÓTARTÃALCCFOUND LDA ÃÁDDRESSÌO-1,X ; CURSOR CONTROL CHAR FOUND LDY ÃÁDDRESSÈI-1,X ; PREPARE ADDRESS OF ROUTINE STA ÔEMPÓTG1 STY ÔEMPÓTG2 JMP (ÔEMPÓTG1);--------------------------------------;  ÐRINT SPECIAL CHARJUST TOO; LONG, RELATIVELY SPEAKING,  TO CLEAR THE SCREEN WITH; THE SAME ROUTINE THAT CLEARS THE WINDOW.×HICHÃLEAR LDA ÌEFTÅDGE BEQ ÃLEARÓCREEN JSR ÃLEAR×INDOW JMP ÍAINÅXITÃLEARÓCREEN JSR ÃLEARÒAM LDA ÔOPÅDGE STA ÒOW LDA ÌEFTÅDGE STA ÃOLUMADDRESS. LDA #0 STA ÔEMPÓTG2 PLA            ; CHARACTER SCREEN CODE (ÐÏËÅ) ASL A          ; ÍULTIPLY BY 8 ROL ÔEMPÓTG2 ASL A ROL ÔEMPÓTG2 ASL A ROL ÔEMPÓTG2 LDX ÍODEÉNDEX  ; SELECT CORRECT CHAR SET CLC ADC ÓETÐTRL,X  ; ADD IN CHARACTER SET BYTESÃÎOÒEVERSE LDA #$00        ; NO REVERSE STA ÒEVERSEÂYTE JMP ÍAINÅXITÃURSORÒIGHT INC ÃOLUMN LDA ÃOLUMN CMP ÒIGHTÅDGECSKP BCC ÍAINÅXITÃGÒETURN LDA ÌEFTÅDGE STA ÃOLUMNÃURSORÄOWN INC ÒOW LDA ÒOW CMP ÂOTTOMÅDGE BCC ÍAINÅXIT LDA ÓÈÆ    ; SAVE CHARACTER LDA ÒEVERSEÂYTE   ; ÉS CHARACTER TO BE REVERSED? AND #$80          ; KEEP ONLY HIGH ORDER BIT ORA ÓTACK,X LDY ÒOW LDX ÒOWÏFFSETÌO,Y ; ROW BASE ADDRESS STX ÔEMPÓTG1 LDX ÒOWÏFFSETÈI,Y STX ÔEMPÓTG2 LDY ÃOLUMN        ; ADD IN COD ØÐOSÌOW    ; HOW MANY BITS TO SHIFT? TAY STA ÔEMPÓTG3   ; SAVE FOR LATER LDA (ÂITÐTR),Y ; GET APPROPRIATE STA ÂITÍASK    ; TWO-BYTE MASK (1 LEFT, 1 RIGHT) EOR #$FF       ; REVERSE MASK TO BE USED BY PRINTCH STA ÔEMPÓTG1 LDA (ÂITÐTR2),Y ; SAME HE OFF AFTER EACH ÃGÒET JSR ×HICHÓCROLL JMP ÍAINÅXITÃURSORÈOME LDA ÌEFTÅDGE STA ÃOLUMNÃURSORÈOME2 LDA ÔOPÅDGE STA ÒOW JMP ÍAINÅXITÃURSORÌEFT DEC ÃOLUMN BMI CURSORLEFT2 LDA ÃOLUMN CMP ÌEFTÅDGE BCS ÍAINÅXITCURSORLEFT2 LDX ÒIGHTÅDGE DEX , ONE MORE SPECIALIZED THAN THE; OTHER, PROVED TO BE SPEEDIER AND MORE EFFICIENT THAN; JUST HAVING ONE GENERAL ROUTINE.;; É GAVE SPEED HIGHER PRIORITY THAN PROGRAM SIZE.ÃALCÌOC LDA ÃHARÓIZE LDY ÃOLUMN JSR ÍULTIPLY    ; ÃHARÓIZE * ÃOLUMN = Ø COO          ; SHIFT RIGHT ROR ÃHARÓTORE+1 DEY BNE ALIGN2NOALIGN AND ÂITÍASK STA ÃHARÓTORE LDA ÃHARÓTORE+1 AND ÂITÍASK2 STA ÃHARÓTORE+1; ÐUT CHARACTER ON BITMAP, RESTORE ROMS AND INTERRUPTS.PRINTCH LDA !$0000,X AND ÔEMPÓTG1    ; CLEAR OUT LE ZERO WOULD INDICATE AN; ACTIVE SCREEN AND WOULD CALL THE ÃLEARÓCREEN ROUTINE,; ON THE OTHER HAND A NON-ZERO VALUE WOULD MEAN THAT A; WINDOW IS CURRENTLY OPEN AND WOULD CALL THE ÃLEAR×INDOW; FUNCTION.;; ÔWO ROUTINES WERE USED BECAUSE IT WOULD TAKE ROW OFFSET HI STA PRINTCH+2   ; BITMAP ADDRESS HI STA PRINTCH2+2 TAY CLC PLA; ÄO THE SAME FOR THE NEXT CHARACTER TO THE RIGHT. ADC #8 STA PRINTCH3+1 STA PRINTCH4+1 TYA ADC #0 STA PRINTCH3+2 STA PRINTCH4+2; ÃALCULATE CHARACTER DEFINITION PRINTCH4 STA !$0000,X DEX             ; NEXT PIXEL ROW BPL ALIGN       ; LOOP 8 TIMES JSR KERNALIN    ; RESTORE KERNAL ROM JMP ÃURSORÒIGHT;--------------------------------------;  ÉNTEGER MULTIPLY ROUTINE;--------------------------------------ACTERS;--------------------------------------ÃÄELETE JSR ÃURSORÌEFT LDA #32         ; ERASE CHARACTER BY PRINTING A SPACE JSR ÓTARTÃALC JSR ÃURSORÌEFTTOEXIT JMP ÍAINÅXITÃÒEVERSE LDA #$FF        ; REVERSE BITS .BYTE $2C       ; SKIP NEXT 2 BN JMP ÍAINÅXIT;--------------------------------------;  ÓTART CALCULATIONS;-------------------------------------- .DEF ÓTARTÃALC; ÓTORE CHARACTER'S CODE IN SCREEN CHARACTER MEMORY.; ×INDOW ROUTINES JUMPS IN HERE.ÓTARTÃALC TSX PHA           ASE STA ALIGNADD+1 ; AND STORE IT INSIDE PROGRAM LDA ÓETÐTRH,X ADC ÔEMPÓTG2 STA ALIGNADD+2 JSR KERNALOUT  ; DISABLE ROM; ÓHIFT CHARACTER DEFINITION RIGHT (ØÐOSÌOW ÁÎÄ 7); TIMES. ÔHIS ALIGNS THE CHARACTER PROPERLY FOR; PRINTING. LDA #7 TAX ANÌÁÇ AND #4            ; IS ÃÔÒÌ KEY PRESSED? BEQ NOWAIT        ; NO, NO DELAY NEEDED LDY #0            ; YES, INSERT SMALL DELAY BEFORE ÃGÒET LDX #0KEYWAIT DEX BNE KEYWAIT DEY BNE KEYWAIT TYANOWAIT STA ÒEVERSEÂYTE   ; REVERSE MODE IS TURNED	LUMN NUMBER STA (ÔEMPÓTG1),Y  ; STORE CHARACTER'S SCREEN (ÐÏËÅ) CODE; ÃALCULATE X COORDINATE AND BYTE LOCATION IN BITMAP.;; ÏNCE AGAIN, ÆINDÌOC IS QUITE SIMILAR TO ÃALCÌOC,; BUT THROUGH TRIAL AND ERROR É FOUND OUT THAT USING; TWO SEPARATE ROUTINES
RE STA ÂITÍASK2 EOR #$FF STA ÔEMPÓTG2ALIGN LDA ÒEVERSEÂYTE STA ÃHARÓTORE+1ALIGNADD LDA !$0000,X    ; GET CHAR DEF BYTE EOR ÒEVERSEÂYTE ; UN/REVERSE CHARACTER LDY ÔEMPÓTG3    ; TIMES TO SHIFT BEQ NOALIGN     ; NO NEED TO SHIFTALIGN2 LSR A  STX ÃOLUMNÃURSORÕP DEC ÒOW BMI ÃURSORÈOME2 LDA ÔOPÅDGE CMP ÒOW BCS ÃURSORÈOME2ÍAINÅXIT LDA ÌASTÃHAR    ; MAIN PROGRAM EXIT LDX ØÓTORE LDY ÙÓTORE RTS; ÄECIDE WHICH CLEAR ROUTINE TO USE BY CHECKING ÌEFTÅDGE; FOR A ZERO OR NON-ZERO VALUE. Á;-------------------------------------------------------;;             Ã - × É Î Ä Ï × Ó   Ö 1 . 1 0;;;         ÍULTIPLE ÃOLUMN ×INDOW ÓCREEN ÐACKAGE;;               ÆOR THE ÃOMMODORE-64;;;             ×RITTEN BY ÒUBENS ÁBBOUD;;          ÔRANANK      ; SELECT BANK 0 STA S$VICBANK AND #$FC STA ÖÉÃÂANK LDA ÂITÍAPÂLOCK STA S$BITMBLOCK LDA #$38         ; SCREEN BLOCK 3 STA ÂITÍAPÂLOCK  ; BITMAP BLOCK 1 LDA ÅNABLEÂITÍAP STA S$ENABLEBITM ORA #$20 STA ÅNABLEÂITÍAP LDX #0 STX ÒEVERSEÂYTTÓET JSR C$FUNCT¤INIT LDA C$PARMS,X TAX LDA ÌEFTÅDGE      ; DO NOT ALLOW A NEW CHARACTER SET BEQ ÉNITÃHARÓET   ; TO BE SET UP IF A WINDOW IS ACTIVE RTS; ÅNTER HERE WITH Ø CONTAINING MODE FOR MACHINE LANGUAGEÉNITÃHARÓET STX ÍODEÉNDEX     ; MODEÒÏÕÔ); - ÒECTIFIED SCROLL ÃÔÒÌ PAUSE ROUTINE;;;ÔHIS PROGRAM HAS BEEN PLACED IN THE PUBLIC DOMAIN. ÆREE;DISTRIBUTION IS ENCOURAGED AND SUPPORTED AS LONG AS;THIS COPYRIGHT MESSAGE IS LEFT INTACT.  ÕSE OF THIS;PROGRAM FOR PROFIT OR SALE IS STRICTLY P6        ; SAVE OLD VECTOR STA NCHROUT+1 LDA $0327 STA NCHROUT+2 LDA #<ÐRINTÃHAR STA $0326        ; REDIRECT ÃÈÒÏÕÔ LDA #>ÐRINTÃHAR STA $0327 LDA #<NMIHANDLER ; PREPARE NMI HARDWARE VECTOR BENEATH ROM STA $FFFA LDA #>NMIHANDLER STA $FFFB JMP TO FIRST MASK TABLE STY ÂITÐTR        ; FIRST = LEFT HALF OF CHARACTER LDY ÍASKÐTRH,X STY ÂITÐTR+1 LDY ÍASKÐTRL2,X   ; POINTER TO SECOND MASK TABLE STY ÂITÐTR2       ; SECOND = RIGHT HALF OF CHARACTER LDY ÍASKÐTRH2,X STY ÂITÐTR2+1 RTS;---------76-6811;24 HOURS/DAY 7 DAYS/WEEK;;-------------------------------------------------------#INCLUDE <SYS¤DEFS.I> .NLST#INCLUDE <SYS¤SETS.I> .LIST;---------------------------------------;; ÆÕÎÃÔÉÏÎ:  ÉNITÓCRN ();; ÁS WELL AS USING HIGHMEM(0XC-------------------------------------- .DEF ÒESETÓCRÒESETÓCR JSR C$FUNCT¤INIT JSR ÃÉÎÔ         ; INITIALIZE SCREEN EDITOR LDA S$DATADIRECT ; NOW MOVE SCREEN DISPLAY TO WHERE IT STA ÄATAÄIRECT   ; WAS BEFORE LDA S$VICBANK STA ÖÉÃÂANK LDA S$BITM1CA     ; GO TO NORMAL ÃÈÒÏÕÔ; PRTCONT STX ØÓTORE STY ÙÓTORE LDA ÔEXTÃOLOR    ; CHECK FOR CHANGE OF COLOR ASL A ASL A ASL A ASL A ORA ÂACKÃOLOR CMP ÓCREEN BEQ NOCHANGE JSR ÃLEARÃOLORNOCHANGE PLA STA ÌASTÃHAR  ; SAVE REGISTERS LDX #CNUMNTÃHAR. .REF C$FUNCT¤INIT .DEF ÉNITÓCRNS$DATADIRECT  .BYTE 0S$VICBANK     .BYTE 0S$BITMBLOCK   .BYTE 0S$ENABLEBITM  .BYTE 0ÉNITÓCRN JSR C$FUNCT¤INIT LDA ÄATAÄIRECT STA S$DATADIRECT ; SAVE FOR ÒESETÓCREEN() ORA #$03 STA ÄATAÄIRECT LDA ÖÉÃÂTO THE; NUMBER OF COLUMNS EACH ROW WILL HAVE.; (0 = 40, 1 = 64, AND 2 = 80 COLUMNS);--------------------------------------- ;  ÉNITIALIZE CHARACTER SET, POINTERS & SCREEN LIMITS. .DEF ÉNITÓET, ÉNITÃHARÓET; ÅNTRY IS HERE FOR Ã-ÐOWER PROGRAMSÉNIJMP ÍAINÅXIT; ÃONVERT ÐÅÔÁÓÃÉÉ CODES TO SCREEN CODESASC1 CMP #$40       ; IS IT <64 BCC ASCSKP     ; YES, SKIP REST OF ROUTINE CMP #$60 BCS ASC2 AND #$1FASCSKP JMP ÓTARTÃALCASC2 CMP #$80 BCS ASC3 AND #$5F BNE ASCSKPASC3 CMP #$A0 BCCSFERRED FROM ÐÁÌ TO Ã-ÁÓÓÍ;;                   ÏN 17/04/87;;               ÕPDATED ON 27/08/87;;; ÖERSION 1.10;; - ÃORRECTED ÎÍÉ INTERRUPT CONFLICT; - ÃOLORS MAY BE CHANGED THROUGH LOCATIONS 646 & 647 DEC;   (ÃOLOR CHANGES UPON NEXT CALL TO ÃÈE  ; CLEAR REVERSE MODE LDX #2           ; 80 COLUMN MODE JSR ÉNITÃHARÓET  ; INITIALIZE 80 COL CHARACTER SET PTR LDA #1           ; WHITE BACKGROUND STA ÂACKÃOLOR STA ÂORDERÃOLOR  ; WHITE BORDER LDA #6           ; BLUE TEXT STA ÔEXTÃOLOR LDA $032 INDEX 0,1,2 LDY ÃOLUMNÔABLE,X ; NUMBER OF COLUMNS STY ÓCREEN×IDTH STY ÒIGHTÅDGE LDA #0            ; TOP OF THE SCREEN STA ÌEFTÅDGE STA ÔOPÅDGE LDY #25 STY ÂOTTOMÅDGE LDY ÓIZEÔABLE,X   ; CHARACTER SIZE STY ÃHARÓIZE LDY ÍASKÐTRL,X    ; POINTER ROHIBITED;WITHOUT THE WRITTEN PERMISSION OF THE AUTHOR.;;ÆOR SUGGESTIONS, BUG REPORTS OR TECHNICAL INFORMATION,;YOU CAN CONTACT ME AT:;;ÔHUNDERDOME ÂÂÓ;(514) 937-4381;24 HOURS/DAY 7 DAYS/WEEK;;Ã ÐOWER ÂÂÓ (ÏPERATED BY ÐROÌINE ÓOFTWARE);(416) 2×HICHÃLEAR;---------------------------------------;; ÆÕÎÃÔÉÏÎ:  ÒESETÓCR ();; ÔHIS FUNCTION DISABLES Ã-×ÉÎÄÏ×Ó AND; RESETS THE SCREEN'S LINE LINK TABLE ; AND RESTORES THE SYSTEM'S DISPLAY AREA; TO WHERE IT WAS BEFORE ÉNITÓRCN () WAS; CALLED.;------------------------------;  ÓTART OF CHARACTER PRINT ROUTINE;--------------------------------------ÐRINTÃHAR PHA LDA ÄÆÌÔÏ     ; CHECK IF SCREEN IS THE CMP #$03      ; STANDARD OUTPUT DEVICE BEQ PRTCONT   ; YES, CONTINUE PLANCHROUT JMP $F	400) TO; SET MEMORY BOUNDARIES AND PROTECT; SCREEN MEMORY, YOU SHOULD CALL; ÉNITÓCRN TO INITIALIZE THE HI-RES; SCREEN AND OTHER SYSTEM PARAMETERS.;---------------------------------------; ÉNITIALIZE ÈI-ÒES SCREEN, SYSTEM PARAMETERS &; INSTALL ÐRI
BLOCK STA ÂITÍAPÂLOCK LDA S$ENABLEBITM STA ÅNABLEÂITÍAP LDA NCHROUT+1    ; RESTORE OLD ÃÈÒÏÕÔ VECTOR STA $0326 LDA NCHROUT+2 STA $0327 RTS;---------------------------------------;; ÆÕÎÃÔÉÏÎ:  ÉNITÓET (ÍODE);; ÍODE IS AN INDEX CORRESPONDING      ; NUMBER OF EDITOR COMMANDS; ÓEARCH FOR CONTROL CHARACTERSÃNTRLÓEARCH CMP ÃNTRLÔABLE-1,X BEQ CFOUND     ; EDITOR CONTROL CHARACTER FOUND DEX BNE ÃNTRLÓEARCH CMP #$20       ; IF CODE<32 THEN IT MUST BE A CONTROL BCS ASC1       ; CHARACTER A ÿÿÿÿÿÿÿÿÿÿÿÿûÿ                                        ìÿ                                þþÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿÿC-WINDOWS SIDE A  WA 2A                                                                                          SYS¤KERNAL.A             [    SYS¤KERNAL.O                README                      CWINDOWS.DOC             b    SYS¤DEFS.I                  
SYS¤SETS.I               ;   
SYS¤WINDOWS.A            1    SYS¤WINDOWS.O             KK ÿPEEK.A                      PEEK.O                      WINDOWS.L                   WINDOW.H                                                                                                                                                  KKKKKKKKKKKKKK½<BZ^@B<   <>B> @@|BBB|   <B@B< >BBB>   <B~@< <   >BB>|@@|BBBB  8<  <@@HPpHD 8<   fUIIA   |BBBB   <BBB<   |BB|@@  >BB>  |F@@@   >@<| ~   BBBB>   BBB$   AII*6   B$$B   BBB>|  ~0~ <     <  | Bü <<  <~ 0PP¨¨PP¨¨0È`0È`        àààààààà    øøøøø              øÀÀÀÀÀÀÀÀ¨¨PP¨¨PP0@@@@0 `` øø   8           8       à          øø   8       ø       ø       à      0ø0       øp  88888888øø      øøø          øøø   À     ÀÀÀÀ       à  )øyTHel¥Úymfm¨hiovi pw© Úh
&Ú
&Ú
&Ú¦ì}àL½ãeÚM ©ª%à¨Û±çãIÿÙ±éäIÿÚ¥Çâ½  EÇ¤ÛðJfâÐú%ãá¥â%äâ½  %Ùá  ½  %Úâ  ÊÌ LJÚ¨H¢ Ù¢Ù&Ú°ÊÐ÷hª`eÙÙ¥Úi ÚL àà? ÌÌç ÄÄÏ©¨  ÷© ¨Ù 	 ÏLç©®  ÷­



     ÿ    $B~BBB |BB|BB| <B@@@B< xDBBBDx ~@@x@@~ ~@@x@@@ <B@NBB< BBB~BBB 88 D8 BDHphDB @@@@@@~ AcUIAAA BBbRJFB <BBBBB< |BB|@@@ <BBBB< |BB|HDB <B@<B< | BBBBBB< BBBBB$ AAAIIUc BB$$BB DDD( ~ ~ ÿÿ ÿ ÿ ÿ 33ÌÌ33ÌÌp  @àà@@@@  `ð`           @@@@  @         ``ð`ð``  p`à   @@ ```° p   @      @@  @  @  `ð`   @@à@@         @   à          `  @@ `°Ð` ``    ð ` @ð ` ` 0PPð ðà` `à` ð @@@@ ``` `p`   @  @         @  @@     ÿÿ    @á à PÄ Ä ­òð`¥îÐ&©æ  ÷¤ñÖ¦îÓ 	©ì  ÷ 	Lí      ¥î¤í¦ð ;¥Ùi@¥Ú i¤ïÈ¤í¦ð ;8¥Ùí!¥Úí "8¥ñåðªÊ©  ÷ 	­i@­ iÊÐÜ¤ñÖ¥îÓ¤ð¹eî¹i  ­iP­ i 8¥ïåî!© "8¥ñåðªÊ©  ÷ 	­iP  ðððð`°°`   `pp àà   `` pp   `ð`  P@ð@@@   ppàà   `   p  à À  `     p   ðð   à   ``   àà  pp  à   p`à @@ð@@@0   p   ``   ðð   `   pà  ð @ð p@@@@@p  P@à@Pð pp   pø@@@@@@@@PP  PP  0À`0À`        ÀÀÀÀÀÀÀÀ    ððððð              ð  PP  PP000000000@@@@0 À    À ðð@@@p@@@@    0000@@@p       À@@@@      ðð   p@@@@@@@ð       ð@@@@@@@À@@@@ @`ð`@  @@@@àà@ 00000000ðð      ððð          ððð    À     ÀÀÀÀ0000   ¥¶»ÀÅÊîö"%(27:=Gru§ª­¸ÆËØäèëðóöþ
!$),{~¥¾ÆÉÌÓäëô÷ú	-ó)/49>IORWZhkorwz}¡¥ª­²º¿ÍÐÔ×Üßâçõÿ#(8=HOt­´/ CHRSET40   CHRSET64  CHRSE @ ` @ @    ø    `ð ààà `` À  À ðÀð ðÀ `°` ð p     p x`  À  ð ðð ÐÐ°° `` àà ``0 àà  ``` ø       ` `` ðð ` pà ð @ð    ø    ø ø ø ø         

Í Ìð Ïh×¢
Ý/ð*ÊÐøÉ °LÉ@É`°)L»É°)_ÐõÉ )?	@L»½9¼CÙÚlÙ  ©  » L©ÿ,© ÇLæÓ¥ÓÅïJ¥îÓæÖ¥ÖÅñ>­)ð  ¢ ÊÐýÐúÇ óL¥îÓ¥ðÖLÆÓ0¥ÓÅî°¦ïÊÓÆÖ0æ¥ðÅÖ°à¥×¦å¤æ`¥îð iL º¥ðÖ¥îÓLºH¥Ç) ¤Ö¾Ù¾Ú¤ÓÙ¥í¤Ó ¤Ö¥Ùà0            $$$     BBÿBÿBB >`<|  b F <B,8GB?            f<ÿ<f   |           |             @ <FJRbB< (~ <B ~ <BB< $D~ ~@|B< <B@|BB< ~B <BB<BB< <BB>B<             @    ~ ~   00 <B  ÀÀÀÀ    àààà`°°`   `pp àà   `` pp   `ð`  P@ð@@@   ppàà   `   p  à À  `     p   ðð   à   ``   àà  pp  à   p`à @@ð@@@0   p   ``   ðð   `   pà  ð @ð àà  P@à@Pð p  ÙL	©´  ÷©   ÙL	  ¹  Ù ÷` ¥Þð© ß  ±ÙÛÈÄßÐ÷æÚæÜÆÞ0Ðí¥ÝÐåL@Cx£VR2J(@P @À @À @À @À @À @À àáâãåæçèêëìíïðñòôõö÷ùúûüþ P ð@à0Ð pÀ`° P ð@à0ÄÄÄÄÅÅÅÆÆÆÇÇÇÈÈÈÉÉÉÉÊÊÊËËÞÎÄÉÖÉðx<     ø|>    Ààð3Ìf3Ìf        ðððððððð    ÿÿÿÿÿ              ÿÀÀÀÀÀÀÀÀÌÌ33ÌÌ33  00 þþ           ð      ÿÿ   ÿ       ÿð þþ ~< ÿÿ      ÿÿÿ          ÿÿÿlxp`     ðððð    øø   ðððð  à à    @  @  ` @ @    ð    `ð ààà `` À  À ðÀð ðÀ `°` ð p     p p`  À  ð ðð ÐÐ°° `` àà ``0 àà  ``` ð       ` `` ðð ` pà ð @ð @@@ð@@@@ð ð ð ð ­ i ÊÐÜ¤ñ¦îÛÜ ¦ÜÊ¥Û¤í ; ±Ù%ÞÙÀÐõ±Ù%ÝÙ÷æÛ¥ÛÅïØ¤Ü¹Ù¹Ú¤î© ÙÈÄïùLß ¤ß¥ÙH)øyTÙ¥ÚymÚh)¨±çãIÿÝ±éäIÿÞ`¤ðÖ¥îÓÈH ïh¨ÈÄñôðò`Hx­Ü)þÜ©4h`H©6­Ü	ÜhX`HHH©H©´H xLGþ hªh¨h@} 
 +9LRirx~	      `ø`                         PPøPøPP  ppð   @ ```x        @@@  @  @  pøp     p           @   ð          `  @ `°Ð` ``    ð ` @ð ` ` 0PPð ðà` `à` ð @@@@ ``` `p`                @ @@    ð ð   @ 
  @@@À    ÀÀÀÀ    ÀÀÀÀ0000       ­Ý 	Ý­ Ý)ü Ý­Ð©8Ð­Ð	 Ð¢ Ç¢ £© Ð©­&Ù­'Ú©Ð&©'©¡úÿ©ûÿL£    ÿ­ Ý­ Ý­Ð­Ð­Ù&­Ú'`   ½<ª¥îð`ì¼Nëï© îð ñ¼Qí¼¸ç¼»è¼¾é¼Áê`H¥ÉðhLÊñåæ­

T80  ÉNITÓCRN >SYS¤KER0ÃÄ0 Ð>SYS¤KER11Á1 ¡ÒESETÓCR lÉNITÓET ÉNITÃHARÓET £ÓTARTÃALC »ÍULTIPLY >SYS¤KER0ÅÁ8 ¨>SYS¤KER0ÅÁÅ ®>SYS¤KER0ÅÂ4 ´ÐREÍOVE ÷ÍOVE 	>SYS¤KER0Ä40 @>SYS¤KER0Ä43 C>SYS¤KER0Ä78 x>SYS¤KER0Ä83 >SYS¤KER0ÒÅÁÄÍÅ Ö1.10  -  03/10/87------------ÁÔÔÅÎÔÉÏÎ!!ÒÅÐÌÁÃÅ Ã-×ÉÎÄÏ×Ó' Ö1.00 ÓÙÓ¤ËÅÒÎÁÌ.Á & ÓÙÓ¤ËÅÒÎÁÌ.Ï ×ÉÔÈ ÔÈÅ ÅÑÕÉÖÁÌÅÎÔ ÆÉÌÅÓÉÎÃÌÕÄÅÄ ÈÅÒÅ.ÒÓ-232 ÂUGÔHIS KERNAL VERSION OF Ã-×INDOWSCORRECTS A FEW BUGS OR ANOMALIESBROUGHT FORTH BY THE BIRTH  $LCOME ANY COMMENTS OR SUGGESTIONS.HE VALUE 0 IN LOCATION 646 (DEC)AND UPON THE VERY NEXT CALL TO $ÆÆÄ2,THE SCREEN COLOR WOULD CHANGE, AND THECHARACTER PRINTED. ÔHE PROCESS IS THESAME FOR THE SCREEN COLOR, BUT LOCATION647 (DEC) SHOULD BE USED.ÔO OLLÅNABLE ò>SYS¤KER0ÆÅ6 æ>SYS¤KER0ÆÅÃ ìÓ×INDÓRCE Ó×INDÄEST Ó×INDÂYTES !ÃLEAR×INDOW iKERNALOUT KERNALIN >SYS¤KER11Â4 ´= C$FUNCT¤INIT   >SYS¤KER0ÃÄ0  U>SYS¤KER0ÃÄ0  Z>SYS¤KER11Á1  _>SYS¤KER11Á1  dC$FUNCT¤INIT   lC$FUNCT¤INDOWS WAS TOHELP ME WRITE A MULTI-COLUMN TERMINALPROGRAM), THE BUG IS NOW CORRECTED ANDSHOULD POSE NO THREAT TO APPLICATIONSWILLING TO TAP Ã-×INDOWS' FEATURESWHILE USING THE Ã-64'S ÒÓ-232 PORT.ÓCROLL ÐAUSE×HEN PRINTING TO SCREEN, Ã-×INDOWS Ö1.0                                                                                                                                                                                                                                                    0Ä32  A>SYS¤KER0Ä4Á  B>SYS¤KER0Ä40  C>SYS¤KER0Ä43  D>SYS¤KER0Ä78  E>SYS¤KER0Ä83  F>SYS¤KER0ÄÁ3  G>SYS¤KER0Ä92  H>SYS¤KER0Ä56  I>SYS¤KER0Ä52  J>SYS¤KER0Ä32  K>SYS¤KER0Ä4Á  L>SYS¤KER0ÆÄÅ  ·>SYS¤KER0ÆÃÅ  ¸>SYS¤KER0ÆÃ4  ¹>SYS¤KEÔEXT & ÓCREEN ÃOLORSÔHE TEXT AND SCREEN COLORS ARE NO LONGERCHANGED ONLY AFTER A ÃLEAR ÓCREEN. ÅACHTIME A CHARACTER IS PRINTED, LOCATIONS646 & 647 (ÓEE SOURCE) ARE CHECKED FORA CHANGE OF COLOR VALUES.ÆOR EXAMPLE, TO CHANGE THE ENTIRESCREEN'S TEX                                                     ÂY ÒUBENS ÁBBOUD                                                                       ÆOR ASSEMBLY ON Ã-ÁÓÓÍ                                                                         ÁUGUST 14TH, 1  ÿ>SYS¤KER0ÆÅÃ  >SYS¤KER0ÆÅÃ  Ó×INDÓRCE  dÓ×INDÓRCE  fÓ×INDÓRCE  ÉÓ×INDÓRCE  Ë>SYS¤KER11Â4  ¦>SYS¤KER11Â4  ©  YS¤KER0Ä56  I>SYS¤KER0Ä52  J>SYS¤KER0Ä32  K>SYS¤KER0Ä4Á  L>SYS¤KER0ÆÄÅ  ·>SYS¤KER0ÆÃÅ  ¸>SYS¤KER0ÆÃ4  ¹>SYS¤KERECEIVE THE ENTIRE Ã-×INDOWS PACKAGETHROUGH THE MAIL, SEND A SELF-ADDRESSED,STAMPED MAILER & $10 TO:ÒUBENS ÁBBOUD1601, ÎOTRE-ÄAME ×, ÁPT #106ÍONTREAL, ÑUEBECÈ3Ê-2Ó8ÑUESTIONS, WHETHER TECHNICAL OR NOT, MAYALSO BE SENT TO THE ABOVE ADDRESS.É WEÄÁ3 £>SYS¤KER0Ä92 >SYS¤KER0Ä56 V>SYS¤KER0Ä52 R>SYS¤KER0Ä32 2>SYS¤KER0Ä4Á JÃOLUMNÔABLE NÓIZEÔABLE QÙÏFFSETÌO TÙÏFFSETÈI mÒOWÏFFSETÌO ÒOWÏFFSETÈI >SYS¤KER0ÆÄÅ Þ>SYS¤KER0ÆÃÅ Î>SYS¤KER0ÆÃ4 Ä>SYS¤KER0ÆÃ9 É>SYS¤KER0ÆÄ6 ÖÓCROF THE FIRSTVERSION OF Ã-×INDOWS.ÔHE MAJOR BUG OF VERSION 1.00 CONSISTEDOF Ã-×INDOWS' INABILITY TO OPERATEPROPERLY WHILE ÒÓ-232 INTERRUPTS WEREACTIVE, SUCH AS WHEN ONE IS RECEIVINGOR SENDING CHARACTERS THROUGH THE MODEM.ÉRONIC AS IT MAY BE (Ã-×I987                                                                                                                                                         ÆOR THE ÃOMMODORE-64.                                                                       NIT   >SYS¤KER0ÅÁ8  º>SYS¤KER0ÅÁ8  ¼>SYS¤KER0ÅÁÅ  Ï>SYS¤KER0ÅÁÅ  Ñ>SYS¤KER0ÅÂ4  ç>SYS¤KER0ÅÂ4  é>SYS¤KER0Ä40  9>SYS¤KER0Ä43  :>SYS¤KER0Ä78  ;>SYS¤KER0Ä83  <>SYS¤KER0ÄÁ3  =>SYS¤KER0Ä92  >>SYS¤KER0Ä56  ?>SYS¤KER0Ä52  @>SYS¤KER0WOULD INSERT A SHORT PAUSE AFTER ÅÖÅÒÙ CARRIAGE RETURN. ÁLTHOUGH THIS ANOMALLYCAUSED NO PROBLEMS PER SE, SUCHOPERATION IS INCONSISTENT WITH THESTANDARD ÃOMMODORE WAY OF ONLY PAUSINGIF THE SCREEN IS ABOUT TO SCROLL AND THEÃÔÒÌ KEY IS DEPRESSED.                     Ã - × É Î Ä Ï × Ó   Ö 1 . 0 0                          -----------------------------                                                                                                                                                	R0ÆÄÅ  º>SYS¤KER0ÆÃÅ  »>SYS¤KER0ÆÃ4  ¼>SYS¤KER0ÆÃ9  ½>SYS¤KER0ÆÄ6  ¾>SYS¤KER0ÆÃ9  ¿>SYS¤KER0ÆÃ9  À>SYS¤KER0ÆÄ6  Á>SYS¤KER0ÆÃ9  ÂCHRSET40  ßCHRSET64  àCHRSET80  áCHRSET40  âCHRSET64  ãCHRSET80  ä>SYS¤KER0ÆÅ6  ý>SYS¤KER0ÆÅ6 
T COLOR TO BLACK, YOU WOULDSTORE THE VALUE 0 IN LOCATION 646 (DEC)AND UPON THE VERY NEXT CALL TO $ÆÆÄ2,THE SCREEN COLOR WOULD CHANGE, AND THECHARACTER PRINTED. ÔHE PROCESS IS THESAME FOR THE SCREEN COLOR, BUT LOCATION647 (DEC) SHOULD BE USED.ÔO NFRET.                                                                                                                                                                    Ã-×ÉÎÄÏ×Ó                ÐROGRAMMER'S ÇUIDE             ÉNPREVIOUSLY POSSIBLE.              ÔHE  SYSTEM  ITSELF  HAS GONE THROUGH VARIOUS REWRITES PRIOR TO THIS       FINAL VERSION AND PROBABLY CONTAINS SOME LEVEL OF INCONSISTENCY SUCH       AS LABEL NAMING  CONVENTIONS,  REDUNDANT  CODE  OR  SOMETHING  OF  PUBLIC  DOMAIN.  ÕSE  AND       ABUSE  IT,  BUT  DO  NOT  SELL IT. ÔHE SOURCE FOR THE SYSTEM AND ALL       ACCOMPANYING DEMO  PROGRAMS  AND  SUPPORT  PROGRAMS  IS  ALSO  BEING       RELEASED  IN  THE  HOPES  THAT  THIS WILL ENABLE YOU TO GET A BETTERRITE A TERMINAL PROGRAM THAT CAN DEAL       WITH  THE  80-COLUMN  MESSAGES  FORMATTED  FOR  THE  NOW-POPULAR ÉÂÍ       COMPATIBLES AND OTHER HIGHER-END MACHINES. É SEE Ã-×INDOWS AS A PATH       FOR ME TO REACH THAT GOAL.  Ã-×INDOWS  POSSESSES  NO  FANODE IS QUITE COMPACT COMPARED TO ANY OTHER LANGUAGE,       É  DID  NOT  WORRY  ABOUT  CODE  SIZE AS MUCH AS É DID ABOUT OVERALL       SPEED. ÓCREEN OUTPUT IS NOT BLAZINGLY FAST, BUT THEN AGAIN, WE CAN'T       EXPECT A Ã-64 TO ACT LIKE AN ÁMIGA WHEN, I                                                                                 ÐUBLIC ÄOMAIN ÄIVISION.                                                                                                                                                ER  SET.  ÆURTHERMORE,  A  FEW  OF  THE  LESS  USED   GRAPHIC       CHARACTERS  HAVE  BEEN REDESIGNED TO PROVIDE A PROFESSIONAL DISPLAY.       ÆOR  THIS  REASON,  É  BELIEVE  Ã-×INDOWS   IS   BEST   SUITED   FOR       BUSINESS-TYPE PROGRAMS OR APPLICA ÐROGRAMMER'S ÇUIDE             ÉNTRODUCTION       É WELCOME ANY COMMENTS, SUGGESTIONS,  BUG  REPORTS,  AND  QUESTIONS,       TECHNICAL  OR  NOT.  ÉF YOU HAVE A MODEM, YOU CAN REACH ME IN ÑUEBEC       AT:              ÔHUNDERDOME ÂÂÓ (ÍONTREAL)                                                                       Ã-ÐOWER IS A TRADEMARK OF ÐRO-ÌINE ÓOFTWARE ÌTD.                                                                                                           Ã-ÁÓÓÍ WRITTEN BY ÍARK ÒIOPERATE  UNDER       Ã-×INDOWS. Ã-×INDOWS IS A COLLECTION OF FUNCTIONS WRITTEN IN  Ã-ÁÓÓÍ       ASSEMBLER  SYNTAX  THAT  INTERFACES  TO ÐRO-ÌINE'S SUPERB Ã ÌANGUAGE       COMPILER, Ã-ÐOWER, AND ALLOWS YOU TO HANDLE SCREEN  OUTPUT  IN  WAYS       NOT UGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                  PAGE 2    Ã-×ÉÎÄÏ×Ó                 ÐROGRAMMER'S ÇUIDE                ÓYSTEM ÉNFO    ÓÙÓÔÅÍ ÉÎÆÏÒÍÁÔÉÏÎ    ------------------              ÔHE ENTIRE SYSTEM HAS BEEN DONATED TO THE TRODUCTION           ÉÎÔÒÏÄÕÃÔÉÏÎ    ------------              Ã-×INDOWS  WAS  WRITTEN  TO  FILL MY OWN PERSONAL NEED FOR SOMETHING       BETTER THAN THE Ã-64'S "BORING" 40-COLUMN  DISPLAY.  ÂEING  AN  AVID       ÂÂÓER, MY ULTIMATE GOAL IS TO W A       SIMILAR  NATURE.  ÔHE  ALGORITHM USED IS THE FASTEST TO MY KNOWLEDGE       AND WAS CHOSEN AFTER COMPARING THE CURRENT VERSION TO PREVIOUS  TEST       VERSIONS WHICH CONTAINED DIFFERENT ALGORITHMS AND TECHNIQUES. ÓEEING       THAT ASSEMBLER C       GRASP OF WHAT COMPOSES THE Ã-×INDOWS SYSTEM AND HOW YOU  CAN  MODIFY       IT  TO  FIT  YOUR OWN NEEDS. ÉF YOU DO MODIFY THE CODE, HOWEVER, É'D       LIKE TO BE KEPT AWARE OF ANY SUCH RUNAWAY PROJECTS SO THAT WE  DON'T       END UP WITH CONFLICY  GRAPHIC       CAPABILITIES  SUCH  AS  DRAWING  CIRCLES  OR  LINES  ASIDE  FROM THE       40/64/80 COLUMN AND  WINDOWS  FEATURE.  ÔHE  CHARACTER  SET  IS  127       CHARACTERS  LONG  WHICH  COVERS THE ALPHABET AND SOME OF THE GRAPHIC       CHARACTN REALITY,  WE'RE  DEALING       WITH  AN  8-BIT  CHIP  WITH ACCESS LIMITED TO 64Ë OF ÒÁÍ AT 1ÍÈZ ÃÐÕ       SPEED.              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                  PAGE 1       Ã-×ÉÎÄÏ×Ó                                                     Ã-×INDOWS IS ÃOPYRIGHT (C)1987 ÒUBENS ÁBBOUD.                                                                                                              ÆREE TO COPY, NOT TO SELL.                              	TION PROGRAMS RATHER THAN GAMES.              ÔO  ACCESS  THE  NEW  FUNCTIONS,  YOU WILL EITHER HAVE TO WRITE YOUR       PROGRAMS SPECIFICALLY FOR Ã-×INDOWS,  OR  MODIFY  EXISTING  PROGRAMS       (WRITTEN   FOR   Ã-ÐOWER  COMPILER,  OF  COURSE)  TO  
      (514) 937-4381       24 HOURS/DAY  7 DAYS/WEEK              ÉN ÏNTARIO:              Ã-ÐOWER ÂÂÓ (ÏPERATED BY ÐRO-ÌINE ÓOFTWARE)       (416) 276-6811       24 HOURS/DAY  7 DAYS/WEEK              ÁMENTS WHICH SHOULD MORE THAN       HELP YOU TO DISCOVER THE FUNCTION/S OF  EACH  ADDRESS.  ÔHIS  HEADER       FILE  IS CALLED "WINDOW.H" AND CAN BE INCLUDED IN YOUR Ã PROGRAMS BY       USING "#INCLUDE <WINDOW.H>".                     ÈERE'S A LIST     3, WHICH IS THE STANDARD OUTPUT DEVICE AT POWERON - THE SCREEN.              Ã-×INDOWS SETS UP  A  CUSTOM  MEMORY  CONFIGURATION  WHICH  MUST  BE       PROTECTED  BY  *ÙÏÕ*  AT THE VERY BEGINNING OF EACH OF YOUR PROGRAMS       (IDEALLY, IN MAIN()NS.       ÍOST MAY EVEN ARGUE THAT GETVALUE() IS  MORE  DESIRABLE  THAN  ÃÈÒÉÎ       EVER WAS!              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                  PAGE 4    Ã-×ÉÎÄÏ×Ó                 ÐROGRAMMER'S ÇUIDE           ETS              4. SYS¤DEFS.I          - LABEL DEFINITIONS              5. WINDOWS.L          - LIBRARY FILE              6. WINDOW.H          - IMPORTANT Ã-×INDOWS LOCATIONS              7. DOCKIT01.C -> DOCKIT04.C          - DEMO PROGRAM (UTINES THAT HANDLE INPUT FROM THE SCREEN DO NOT  EXPECT  TO       CONFORM  TO Ã-×INDOWS' PROTOCOL AND WHENEVER THEY ARE USED, A SYSTEM       CRASH IS LIKELY TO OCCUR. ÃÈÒÉÎ,  WHICH  ACTS  LIKE  A  ÂÁÓÉÃ  ÉÎÐÕÔ       STATEMENT  IS THE OFFENDING ËERNAL CTING VERSION NUMBERS.              Ã-×INDOWS USES ZERO-PAGE LOCATIONS EXTENSIVELY FOR STORAGE. ÈOWEVER,       IT  KEEPS  A SAFE DISTANCE FROM CRITICAL ZERO-PAGE LOCATIONS USED BY       EITHER Ã-ÐOWER AND THE ËERNAL. ÁNY OTHER UTILITY WHICH  RESIDES/NFO       9. LIB.C          - DEMO PROGRAM - LIBRARY UTILITY (SOURCE FILE)              10. DOCKIT.SH, LIB.SH           - EXECUTABLE VERSIONS OF DEMOS                  Ã-ÐÏ×ÅÒ ÃÏÎÆÌÉÃÔÓ    -----------------              ÁLL  SCREEN  OUTPUT   ÃÈÒÉÎ       USUALLY DISPLAY A BLINKING CURSOR AS IT AWAITS USER INPUT.              ÔO  CORRECT  THIS  TEMPORARY  PROBLEM  (É'M  WORKING  ON A NEW ÃÈÒÉÎ       ROUTINE TO BE VECTORED IN THE SAME WAY AS ÃÈÒÏÕÔ), YOU WILL HAVE  TO       HANDLE  ALL   IES  OF  'PEEK'S  AND 'POKE'S. ×ITH Ã-×INDOWS, SOME OF       THESE CRITICAL LOCATIONS HAVE BEEN PRE-'#DEFINE'D IN A  HEADER  FILE       THAT  YOU  MUST  '#INCLUDE' IN YOUR Ã LANGUAGE SOURCE. ÅACH LOCATION       CARRIES A DESCRIPTIVE LABEL NAME AND COM ÃÈÒÏÕÔ ($ÆÆÄ2).  ÔHIS       ROUTINE  IS  VECTORED  IN  ÒÁÍ  AND  IT  IS THIS VECTOR WHICH ALLOWS       Ã-×INDOWS TO OPERATE ALMOST TRANSPARENTLY. ÔHE VECTOR  IS  RE-ROUTED       TO  A NEW SCREEN PRINTING ROUTINE EVERYTIME OUTPUT IS SENT TO DEVICE   UT  THEN  AGAIN,  FULL-SCREEN       EDITING   IN  AN  INPUT  OPERATION  IS,  MORE  OFTEN  THAN  NOT,  AN       INCONVENIENCE. ÔHE FUNCTION IN QUESTION, GETVALUE()  HAS  A  LIMITED       DEGREE  OF  FLEXIBILITY, BUT IT SHOULD DO FOR MOST INPUT OPERATIOOF ALL THE FILES IN THE PACKAGE:              1. SYS¤KERNAL.A, SYS¤KERNAL.O           - CORE OF Ã-×INDOWS SYSTEM              2. SYS¤WINDOWS.A, SYS¤WINDOWS.O          - WINDOW MANAGEMENT ROUTINES              3. SYS¤SETS.I          - CHARACTER S). ÔO DO THIS, CALL HIGHMEM() USING  '0XC400'  AS       AN  ARGUMENT  (I.E.  HIGHMEM(0XC400);).  ÔHIS  WILL KEEP Ã AWAY FROM       Ã-×INDOWS TERRITORY.              ÕNFORTUNATELY, NOT ALL THE GLITCHES HAVE BEEN STOMPED OUT. ÉMPORTANT       ËERNAL RO       ÆUNCTIONS    ÎÁÍÅ              BEEP - SOUND A BEEP                  ÓÙÎÏÐÓÉÓ              EXTERN CHAR ÂEEPÏN;              BEEP ()                  ÄÅÓÃÒÉÐÔÉÏÎ              ÂEEP  IS  ACTUALLY  PART  OF  THE  WINDOW  FUNCTIONS WHISOURCE FILES)              8. PEEK.A, PEEK.O          - Ã-ÐOWER PEEK & POKE FOR ÄÏÃËÉÔ              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                  PAGE 3       Ã-×ÉÎÄÏ×Ó                ÐROGRAMMER'S ÇUIDE              ÓYSTEM ÉROUTINE, AND AS OF YET, É HAVEN'T       WRITTEN ONE TO HANDLE INPUT FROM Ã-×INDOWS' HI-RES  SCREEN.  ÄUE  TO       THIS,  ANY  Ã-ÐOWER  INPUT  FUNCTION  THAT USES ÃÈÒÉÎ WILL CRASH THE       SYSTEM WHEN Ã-×INDOWS IS ENABLED. Ã-ÐOWER FUNCTIONS THAT CALLUSES       THIS SPACE MAY PLAY HAVOC WITH Ã-×INDOWS' WELL-BEING. É'LL LEAVE THE       TASK  OF  FINDING  OUT WHICH LOCATIONS ARE USED BY Ã-×INDOWS TO YOU.       ÏFTEN IN A Ã PROGRAM, ONE NEEDS TO GET 'CLOSE' TO  THE  MACHINE  AND       INVOKE  A  SER	 IS  DONE   IN   HIGH   RESOLUTION   MODE.   ÔHE       HIGH-RESOLUTION SCREEN RESIDES UNDER THE HIDDEN ÒÁÍ UNDER THE ËERNAL       ÒÏÍ  STARTING  AT  LOCATION  $Å000.  ÏUTPUT TO THE SCREEN IS USUALLY       HANDLED BY THE ALL TOO POPULAR ËERNAL ROUTINE,
USER  INPUT FROM DEVICE 3 THROUGH A ROUTINE OF YOUR OWN       BREWING. ÄON'T FEEL LIKE WRITTING  ONE?  ÄON'T  WORRY,  THERE'S  ONE       ALREADY  WRITTEN  IN  Ã INSIDE THE TWO DEMO PROGRAMS. ÔHE Ã FUNCTION       DOES NOT ALLOW FULL-SCREEN  EDITING,  B, ÒESETÓCREEN - ENABLE AND DISABLE Ã-×INDOWS                  ÓÙÎÏÐÓÉÓ              ÉNITÓCRN ()              ÒESETÓCREEN ()                  ÄÅÓÃÒÉÐÔÉÏÎ              ÉNITIALIZE  HIGH  RESOLUTION  SCREEN, ZERO-PAGE REGISTERS, SWITCH TO          ÅØÁÍÐÌÅÓ              ÉNITÓCRN ();       ÉNIT×INDOWS ();              /* SWITCH TO 64 COLUMN MODE */              ÉNITÓET (1);       PUTS ("ÔHIS IS IN 64 COLUMNS - MODE 1!");              /* USE 40 COLUMNS - BLAH! */              ÉNITÓET (RETURN A VALUE OF ZERO. Á VALUE OF ZERO IS ALSO RETURNED IF ANY       OF THE ARGUMENTS CONTAIN ILLEGAL VALUES  SUCH  AS  LENGTH  OF  TITLE       STRING  EXCEEDING  THE  WIDTH SPECIFIED, OR HAVING A WINDOW WIDTH OF       100, FOR EXAMPLE. ÙOU MAY HAVE .       ÉT  WILL ALSO RESTORE ÖÉÃ SCREEN ADDRESS REGISTERS TO WHAT THEY WERE       BEFORE ÉNITÓCRN() WAS CALLED.              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                  PAGE 6    Ã-×ÉÎÄÏ×Ó                 ÉNIT×INDOWS - INITIALIZE WINDOW ALLOCATION TABLE                  ÓÙÎÏÐÓÉÓ              ÉNIT×INDOWS ()                  ÄÅÓÃÒÉÐÔÉÏÎ              ÉNIT×INDOWS INITIALIZES THE WINDOW ALLOCATION TABLE.       ÉT SHOULD BE CALLED AT THCH CALL BEEP       AUTOMATICALLY IF A WINDOW WAS OPENED SUCCESSFULLY. ÂEEP CONTAINS  AN       INBORN   VATIABLE   CALLED   ÂEEPÏN  WHICH  TOGGLES  BEEP'S  ACTION.       ÉNITIALLY, ÂEEPÏN CONTAINS A NON-ZERO VALUE, THIS ENABLES BEEPING AT       ALL TIA NEW CHARACTER SET/MODE. ÔHERE ARE THREE MODES       IN Ã-×INDOWS AND EACH MODE CORRESPONDS TO A DIFFERENT SCREEN  WIDTH.       ÂELOW ARE THE MODE -> SCREEN WIDTH COMBINATIONS.                                 ÍODE   ->   ÓCREEN ×IDTH                          ÏPEN×INDOW, ÃLOSE×INDOW  - WINDOW MANAGEMENT                  ÓÙÎÏÐÓÉÓ              ÏPEN×INDOW (COLUMN, ROW, WIDTH, HEIGHT, TITLE)       CHAR *TITLE;              ÃLOSE×INDOW (WINDOWID)                  ÄÅÓÃÒÉÐÔÉÏÎ               GONE! */              BEEP ();              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                  PAGE 5    Ã-×ÉÎÄÏ×Ó                 ÐROGRAMMER'S ÇUIDE                  ÆUNCTIONS    ÎÁÍÅ              ÉNITÓCRN WINDOWS  ARE  GOING  TO  BE  USED,  SUCH  PRACTICES ARE NOT       ADVISABLE. ÕSING WINDOWS  IN  SUCH  CASES  WILL  MOST  LIKELY  YIELD       UNDESIRABLE  EFFECTS, AS WELL AS CREATING A BIG DIGITAL MESS ON YOUR       CURRENT DISPLAY.               CTER.              ×HEN  A  WINDOW  IS OPENED, ALL TEXT THAT WILL BE OVERWRITTEN BY THE       WINDOW IS SAVED IN A TEXT BUFFER. ÉF ENOUGH MEMORY IS  NOT  AVAIABLE       TO  ALLOCATE  THIS  BUFFER,  THE WINDOW IS NOT OPENED AND ÏPEN×INDOW       WILL DEFAULT COLORS (TEXT: BLUE, BACKGROUND &  BORDER:  WHITE),  REDIRECT       ÃÈÒÏÕÔ  VECTOR TO POINT TO NEW ÃÈÒÏÕÔ ROUTINE. ÔHE DEFAULT CHARACTER       MODE IS 80 COLUMNS.              ÒESETÓCREEN DISABLES Ã-×INDOWS BY RESTORING THE OLD  ÃÈÒÏÕÔ  VECTOR0);       PUTS ("ÏNE, TWO, THREE, FOUR... FORTY COLUMNS WIDE!");              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                  PAGE 7    Ã-×ÉÎÄÏ×Ó                 ÐROGRAMMER'S ÇUIDE                  ÆUNCTIONS    ÎÁÍÅ UP TO 16  WINDOWS  OPEN  AT  ANY  ONE       TIME.  ÉF  THE  WINDOW  IS OPENED SUCCESSFULLY, A UNIQUE WINDOWID IS       RETURNED (ID VALUES RANGE  FROM  1  TO  16).  ÉDS  ARE  ASSIGNED  IN       DECREASING  ORDER, THAT IS, THE FIRST ID WILL BE 16, THE              ÐROGRAMMER'S ÇUIDE                  ÆUNCTIONS    ÎÁÍÅ              ÉNITÓET - INITIALIZE A NEW CHARACTER SET                  ÓÙÎÏÐÓÉÓ              ÉNITÓET (MODE)                  ÄÅÓÃÒÉÐÔÉÏÎ              ÉNITIALIZE/SWITCH TO E VERY BEGINNING OF EACH PROGRAM.              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                  PAGE 8    Ã-×ÉÎÄÏ×Ó                 ÐROGRAMMER'S ÇUIDE                  ÆUNCTIONS    ÎÁÍÅ  MES. ÂY SETTING ÂEEPÏN TO ZERO, CALLS TO BEEP() WILL YIELD  NO       SOUND WHATSOEVER.                  ÅØÁÍÐÌÅÓ              EXTERN CHAR ÂEEPÏN;                     /* TOGGLE BEEP OFF */              ÂEEPÏN = 0;              /* NOW BEEP IS 	     ----        ------------                            0              40                     1              64                     2              80              ÙOU MAY SWITCH MODES AS MANY TIMES AS YOU WISH DURING A PROGRAM RUN,       BUT  IF 
ÏPEN×INDOW OPENS A WINDOW IN THE CURRENT PRINTING MODE. ÂECAUSE  ALL       WINDOWS  ARE  BORDERED,  WHEN OPENING A WINDOW KEEP IN MIND THAT YOU       MUST ALLOW ONE COLUMN AND ROW POSITION  IN  ALL  FOUR  SIDES  TO  BE       OCCUPIED BY A BORDER CHARA9    Ã-×ÉÎÄÏ×Ó                 ÐROGRAMMER'S ÇUIDE                  ÆUNCTIONS    ÅØÁÍÐÌÅÓ              ÉNITÓCRN ();       ÉNIT×INDOWS ();       ÉNITÓET (2);              /* OPEN A WINDOW TO OCCUPY ENTIRE SCREEN */              BIGID = ÏPE   Ã-ÐOWER  ENVIRONMENT),  É  WROTE  A  PROGRAM  CALLED  DOCKIT  TO GET       AQUAINTED WITH THE  LANGUAGE.  ÂEING  MY  FIRST  PROGRAM  IN  Ã,  IT       PROBABLY CONTAINS NUMEROUS INCONSISTENCIES AND OUT-OF-DATE COMMENTS,       BUT  IT WORKS ANYHOW! Ô    > DOCKIT02.O       > DOCKIT03.O       > ^       > DOCKIT04.O       > PEEK.O       > WINDOWS.L       > ^              OBJECT FILE NAME: DOCKIT.SH              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                 PAGE 12      ×INDOW (BIGID);     /* OR USE ÃLOSE×INDOW (0) TWICE */              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                 PAGE 10    Ã-×ÉÎÄÏ×Ó                 ÐROGRAMMER'S ÇUIDE                  ÆUNCT ÈÅÌÐ COMMAND), SO É WILL NOT TRY TO  EXPLAIN  WHAT       EACH COMMAND DOES, BUT É WILL ELABORATE ON ONE COMMAND - ØÍÏÄÅÍ.              ÁS SOME OF YOU MAY OR MAY NOT KNOW, THE ØMODEM PROTOCOL USED BY MOST       ÂÂÓS  USUALLY INSERTS A ÃÔÒÌ-Ú PADDING NEXT WINDOW       TO BE OPENED AT THE SAME TIME WILL HAVE AN ID OF 15 AND SO ON.              ÃLOSE×INDOW CLOSES A WINDOW WITH AN ID OF WINDOWID.  ÂEFORE  WINDOWS       ARE OPENED, THE CURRENT OPERATING ENVIRONMENT IS FIRST SAVED SO THAT       IT CADARD  OUTPUT  DEVICE  REPETITION       TIMES. ÔHE MAXIMUM VALUE FOR REPETITION IS 255.                  ÅØÁÍÐÌÅÓ              /* PRINT 'A' 36 TIMES */              ÒEPÃHAR ('A', 36);              ÁUGUST 5TH, 19ÄÅÍ       CHOPS OFF THIS ÃÔÒÌ-Ú PADDING IF ANY IS FOUND.              ÁS A FINAL NOTE, TO GET OUT OF ÄISK MODE, TYPE 'MAIN', AND TO GET  A       DIRECTORY  DISPLAY FROM DISK MODE, TYPE 'DIR'. ÅVERYTHING OTHER THAN       'MAIN' AND 'DIR' GETS SENT TO . ÅFFECTIVELY, THIS HAS THE EFFECT OF       CLOSING  THE  LAST  WINDOW  OPENED AND CAN BE USED IF YOU RATHER NOT       KEEP TRACK OF ID NUMBERS YOURSELF.              ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                  PAGE D LIB. ÂOTH       SHOULD PROVE TO BE ADEQUATE AS REFERENCE  MATERIAL,  BUT  YOU  MIGHT       FIND THEM TO BE ALSO USEFUL AS UTILITIES.                    ÄÏÃËÉÔ              ×HEN FIRST FACED WITH LEARNING THE Ã LANGUAGE (AND CONSEQUENTLY, THE     TO       LINK IN PEEK.O WHICH CONTAINS TWO POPULAR FUNCTIONS THAT ARE USED BY       DOCKIT. ÔO LINK THE DOCKIT PROGRAM  (AFTER  YOU'VE  COMPILED  THE  Ã       SOURCE FILES, OF COURSE), USE                     $ LINK              > DOCKIT01.O   N×INDOW (1, 1, 78, 23, " ÂIG ×INDOW ");       PRINTF ("THIS IS A TEST - THIS IS A TEST");       LITTLEID = ÏPEN×INDOW (10, 5, 40, 10, " ÌITTLE ×INDOW ");              /* NOW CLOSE IN ÌÏÆÃ FASHION */              ÃLOSE×INDOW (LITTLEID);       ÃLOSEHE VERSION É'M INCLUDING AS A DEMO IS NOTHING       BUT THE ORIGINAL DOCKIT WITH A FEW MODIFICATIONS TO  ACCOMODATE  THE       WINDOWS FEATURE.              ÔHE  PROGRAM'S OPERATIONS SHOULD BE MORE THAN SELF EXPLANATORY (WHEN       IN DOUBT, USE THE Ã-×ÉÎÄÏ×Ó                ÐROGRAMMER'S ÇUIDE            ÄEMO ÐROGRAMS             ÌÉÂ              ÔHIS  IS NOTHING BUT THE FAMILIAR LIB UTILITY (SUPPLIED WITH Ã-ÐOWER       ON SAME DISK) SLIGHTLY MODIFIED TO DEMONSTRATE Ã-×INDOWS' FEATURES.    IONS    ÎÁÍÅ              ÒEPÃHAR - REPETITIVE OUTPUT                  ÓÙÎÏÐÓÉÓ              ÒEPÃHAR (CHARACTER, REPETITION)       CHAR CHARACTER, REPETITION;                  ÄÅÓÃÒÉÐÔÉÏÎ              ÒEPÃHAR SENDS CHARACTER TO THE  STANIN THE LAST TRANSMITTED BLOCK       IF THE BYTE COUNT OF  THE  ENTIRE  FILE  BEING  TRANSMITTED  IS  NOT       EQUALLY  DIVISABLE  BY  128.  ÔHIS  EXTRA  PADDING  MIGHT CAUSE SOME       DOWNLOADED PROGRAMS (SPECIALLY MACHINE LANGUAGE) NOT TO WORK. ØÍÏN BE RESTORED WHEN THE WINDOW IS CLOSED. ÂECAUSE OF THIS, IT IS       VITAL  THAT  WINDOWS  BE  CLOSED  IN  ÌÏÆÃ ORDER (ÌAST OPENED, FIRST       CLOSED). ÉF YOU SPECIFY A WINDOWID OF  ZERO,  THE  WINDOW  WITH  THE       LOWEST ID NUMBER WILL BE CLOSED	87       (C)1987 ÒUBENS ÁBBOUD                 PAGE 11    Ã-×ÉÎÄÏ×Ó                 ÐROGRAMMER'S ÇUIDE              ÄEMO ÐROGRAMS    ÔÈÅ ÄÅÍÏ ÐÒÏÇÒÁÍÓ    -----------------              ÙOU'LL  FIND  TWO DEMO PROGRAMS IN THE PACKAGE, DOCKIT AN
 THE DISK CONTROLLER.              ÄUE TO DOCKIT'S UNUSUAL LARGE SIZE, THE LINKER  CANNOT  RESOLVE  ALL       EXTERNAL REFERENCES AT ONCE. ÙOU WILL NEED AN INTERMEDIATE LINK WITH       THE  STANDARD LIBRARY TO AVOID AN ERROR MESSAGE. ÙOU'LL ALSO NEED
MCWDEFS.I). ÅACH TIME THE SCREEN IS CLEARED, ALL LOCATIONS IN  COLOR       MEMORY  ARE FILLED WITH A CALCULATED VALUE TAKEN FROM BOTH ÔEXTÃOLOR       AND ÂACKÃOLOR (TEXT COLOR AND  BACKGROUND  COLOR,  RESPECTIVELY)  SO       THAT  THE COLOR OF THE WHO               CHAR = 50176 + (Y * 80) + X              ÙOU MAY WISH TO USE THE FORMULA IN A FUNCTION SUCH AS:                     CHAR CPEEK (X, Y)       CHAR X, Y;       Û            RETURN (50176 + (Y * 80) + X);       Ý              ÔHE V    BE  SENT  TO  THE  HOME POSITION, BUT THE TEXT AND BACKGROUND COLORS       *ÁÒÅ ÎÏÔ* CHANGED. ÃOLOR CHANGES ARE ONLY ALLOWED  WHEN  NO  WINDOWS       ARE ACTIVE.              ÌATER  VERSIONS  OF  Ã-×INDOWS  WILL  PROBABLY  SUPPORT MORE COLORUL   SIMPLY 'POKE' A VALUE INTO CHARACTER       MEMORY AND EXPECT IT  TO  BE  DISPLAYED  INSTANTANEOUSLY.  ÃHARACTER       MEMORY  IS  ONLY  WRITTEN  TO,  NOT  READ.  ÔHE  ONLY  WAY  TO PLACE       CHARACTERS ON THE DISPLAY, IS THROUGH THE  CONVENTIONAL       YOU COULD WRITE YOUR OWN GRAPHIC ROUTINES AND HAVE MULTIPLE COLUMNS,       WINDOWS, CIRCLES, ELIPSES, AND SQUARES, ALL INTERACTING TOGETHER  ON       THE SAME BIT-MAP.       ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD           ÔHE REASON LIB WAS ALSO PROVIDED AS A DEMO, WAS SO  THAT  YOU  COULD       COMPARE  THE  ORIGINAL SOURCE TO THE ONE OF THE MODIFIED VERSION AND       SEE HOW THE MODIFICATIONS WERE DONE.        AND YOU TRY TO 'CPEEK' AN  AREA       OUTSIDE  THE CURRENT MODE'S SCREEN BOUNDARIES, YOU WILL, INEVITABLY,       GET A GARBAGE SCREEN CODE VALUE.                     ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                 PAGE 14 HARACTER IS PRINTED TWO MAIN AREAS IN  MEMORY       ARE  UPDATED.  ÔHE FIRST IS 'CHARACTER MEMORY', WHERE EACH CHARACTER       CURRENTLY DISPLAYED IS MAPPED, AND  THE  OTHER  IS  HIGH  RESOLUTION       MEMORY, BETTER KNOWN AS 'BITMAP'. ÏNE ADDITIONAL  LE COLUMN DISPLAYS       IS NOT SUPPORTED. ÃURRENTLY, TO CHANGE THE TEXT COLOR,  YOU'LL  HAVE       TO STORE THE COLOR CODE IN ÔEXTÃOLOR (SEE MCWDEFS.I) AND THEN, CLEAR       THE  SCREEN.  ÔHE  SAME  GOES FOR THE BACKGROUND COLOR (ÂACKÃOLOR IN       EEN IS STORED HERE. ÔHIS WAY, INFORMATION PRINTED       IS NOT 'LOST' ONCE IT IS DISPLAYED.              ÔO FIND OUT WHICH CHARACTER IS CURRENTLY DISPLAYED AT ROW 4,  COLUMN       13, PLUG Y=4 AND X=13 INTO THE FOLLOWING GENERAL FORMULA:           LE DISPLAY IS UNIFORM (I.E. ONLY ONE COLOR       FOR TEXT, AND ONE COLOR FOR BACKGROUND).              ÉF YOU SEND A CLEAR SCREEN CHARACTER (147  DECIMAL)  TO  BE  PRINTED       FROM WITHIN A WINDOW, THE WINDOW WILL BE CLEARED AND THE CURSOR WILL   ALUE RETURNED CAN THEN BE LOOKED UP IN ÁPPENDIX Å OF THE ÕSER'S       ÇUIDE  THAT  COMES  WITH  YOUR  Ã-64 TO DETERMINE WHICH CHARACTER IT       REPRESENTS. ÎOTE ,  HOWEVER,  THAT  THE  METHOD  DOES  NOT  WORK  IN       REVERSE.  ÔHAT  IS,  YOU CANNOT     DISPLAYS, BUT THE HARDWARE BARRIERS BUILT IN THE ÖÉÃ  CHIP  MAKE  IT       MUCH HARDER TO IMPLEMENT.                    ÈÉÇÈ-ÒÅÓÏÌÕÔÉÏÎ ÂÉÔÍÁÐ ($Å000 - $ÆÆÆÆ)              ÔHE  HI-RES DISPLAY LIES BENEATH THE ËERNAL ÒÏÍ. ÆOR FANCY DISPLAYS,  METHOD,  BY       PRINTING IT VIA $ÆÆÄ2 (ÃÈÒÏÕÔ).              ÁS  A  LAST NOTE, THIS AREA IS NOT CLEARED WHEN ÉNITÓET() IS CALLED.       ÉF YOU WERE USING A MODE WITH A WIDE SCREEN WIDTH AND THEN SWITCH TO       A NARROWER ONE (E.G. FROM 80 TO 64),                 PAGE 15DWARE BARRIERS BUILT IN THE ÖÉÃ  CHIP  MAKE  IT       MUCH HARDER TO IMPLEMENT.                    ÈÉÇÈ-ÒÅÓÏÌÕÔÉÏÎ ÂÉÔÍÁÐ ($Å000 - $ÆÆÆÆ)              ÔHE  HI-RES DISPLAY LIES BENEATH THE ËERNAL ÒÏÍ. ÆOR FANCY DISPLAYS,         ÁUGUST 5TH, 1987       (C)1987 ÒUBENS ÁBBOUD                 PAGE 13       Ã-×ÉÎÄÏ×Ó                ÐROGRAMMER'S ÇUIDE          ÓCREEN ÄISPLAYS                  ÓÃÒÅÅÎ ÄÉÓÐÌÁÙÓ    ---------------              ÅACH TIME A PRINTABLE C     Ã-×ÉÎÄÏ×Ó                ÐROGRAMMER'S ÇUIDE           ÓCREEN ÄISPLAYS      ÃÏÌÏÒ ÍÅÍÏÒÙ ($ÃÆ00 - $Ä2Å8)              ÔHIS IS WHERE THE COLOR INFORMATION FOR THE BITMAP RESIDES.  ÂECAUSE       OF  HARDWARE LIMITATIONS, USE OF COLOR WITH MULTIP	AREA IS NOT UPDATED       AS OFTEN, BUT PLAYS AN EQUALLY IMPORTANT PART - COLOR MEMORY.                    ÃÈÁÒÁÃÔÅÒ ÍÅÍÏÒÙ ($Ã400 - $ÃÂÆÆ)              ÔHE  SCREEN  CODE (NOT ÐÅÔÁÓÃÉÉ) FOR EACH CHARACTER DISPLAYED ON THE       HIGH RESOLUTION SCR
Ë                                                  © ¢ Êú`     ¹  ðÐõLÿ . ½<  ½> ½@ ½B ½D ½E ­  ðÑÅë°Ím Åë°Å­ ðÀÉ°¼m É°´¥Ó ¥Ö ­ Ù­ Ú  ±ÙðÈÐùLÿ Ì Lÿ ¢µî Êø­ i ¬ ÈÈ   ¥ÙiL¥Úi M­ K  ® ½<=;---------------------------------------;; ÐEEK & ÐOKE;; ÆILENAME: PEEK.A; ÁUTHOR:   ÒUBENS ÁBBOUD; ÕPDATED:  03/06/87;;---------------------------------------C$PARMS        =  $033C  ; Ã-ÐOWER PARAMETER PASSING AREA;----------------------- î ¬ ®  ÊÓm ÖH©Ý Òÿ­  m ÓhÖ©Ý ÒÿÙî Î ®  ÊÓ­ m Ö©­ Òÿ¬ f©À s©½ Òÿ­  îm ï­ ð­ ñ   ©    ¹    ÷`      ½<Ð ¹  ÐÈÀóLÿ ÉLÿ ¨.  ¹ Ù<i}¹ Ú=i ~  ­. ® <© ¬. =   ±Ù  ø­ i   ¦ì ------- .REF C$FUNCT¤INIT .DEF POKE, PEEKPOKE JSR C$FUNCT¤INIT LDA C$PARMS,X STA STOREPK+1 LDA C$PARMS+1,X STA STOREPK+2 LDA C$PARMS+2,X STOREPK STA !$0000 RTSPEEK JSR C$FUNCT¤INIT LDA C$PARMS,X STA LOADPK+1 LDA C$PARMS+1,X STA LOAD ¼ Á È Ï Ô × ì ô "%/:>ADGJU\}ª¯¾Ãçíòùüÿ*-06:DGLTZ_ds ¤§«µ¸ÂÈËÓÙÜãêïúý 	369<ADGQV]mv ÉNIT×IND / ÏPEN×IND = ÃLOSE×IN ÒEPÃHAR gÂEEPÏN |BEEP ~" C$ v1    ½< ½= ½>  `   ½<& ½=' ­  <© =`    "  POKE   PEEK   C$FUNCT¤INIT     C$FUNCT¤INIT                DOCKIT01.C               ?    DOCKIT02.C                   DOCKIT03.C               !   DOCKIT04.C                 öNDÄEST  Ó×INDÄEST  Ó×INDÄEST   Ó×INDÄEST  ÉNITÃHARÓET   §ÓCROLLÅNABLE   ·ÃLEAR×INDOW   iÓCROLLÅNABLE   nC$FUNCT¤INIT   FREE  ÅÓCROLLÅNABLE   òÉNITÃHARÓET   ÷ÓTARTÃALC   ,ÓCROLLÅNABLE   NC$FUNCT¤INIT   gC$FUNCT¤INIT   ~  P ~" C$CHRSET40 SYS¤KERNAL.O CHRSET64 SYS¤KERNAL.O CHRSET80 SYS¤KERNAL.O ÉNITÓCRN SYS¤KERNAL.O ÒESETÓCR SYS¤KERNAL.O ÉNITÓET SYS¤KERNAL.O ÉNITÃHARÓET SYS¤KERNAL.O ÓTARTÃALC SYS¤KERNAL.O ÍULTIPLY SYS¤KERNAL.O ÐREÍOVE SYS¤KERNAL.O ÍOVE SYS¤KERNAL.O ÃOLUMNÔABLE S/* ======================================================================== *//* ÆILENAME: WINDOW.H                                                       *//* ÁUTHOR:   ÒUBENS ÁBBOUD                                                  *//* ÕPDATED:  16/0 YS¤WINDOWS.O ¤KERNAL.O CHRSET64 SYS¤KERNAL.O CHRSET80 SYS¤KERNAL.O ÉNITÓCRN SYS¤KERNAL.O ÒESETÓCR SYS¤KERNAL.O ÉNITÓET SYS¤KERNAL.O ÉNITÃHARÓET SYS¤KERNAL.O ÓTARTÃALC SYS¤KERNAL.O ÍULTIPLY SYS¤KERNAL.O ÐREÍOVE SYS¤KERNAL.O ÍOVE SYS¤KERNAL.O ÃOLUMNÔABLE SÐ© ® <=`¬. ½<w iÝ  ½=x i Þ ­. <© = ­ m  Î ­   ©  ® ÊÊè¬  }    ½  i  ©         ­  m   Ù­ i  Ú© ¨Ùî  Ðî ì Ð¹© Ç¦ì   ­  Ó® ÊÖ©ÿ    ¢ ­ Ù­ Ú±ÙðÉÉ °É`è ÒÿÈÐßß8åßß­ 8åßf©Ü s© ÇÎ----------------;; ÆÕÎÃÔÉÏÎÓ:  POKE (ADDRESS, BYTE);             PEEK (ADDRESS);; ÐOKE WILL STORE THE VALUE OF 'BYTE' IN; THE LOCATION 'ADDRESS'.;; ÐEEK RETURNS THE VALUE WHICH IS; CURRENTLY STORED IN 'ADDRESS'.;--------------------------------  î î Î ¬  Ó¬ Ö  ­}Ù­~Úæ±Ùð¢ÿ),¢ Ç   ÈÐÞ­}m }­~i ~î Î Ð·©   ­ Ó­ Ö¢½ îÊø`    ½>f½< ÒÿÎfÐø`ÿ    HHH­|ð: ©  Ôú©	Ô©ðÔ©Ô©^ Ô¢2Ô©!Ô  êÐüèèèàÈë© Ôh¨hªh`p 6 @ E H P S Y _ e k q w z     £ ¦ « ¹ IPK+2LOADPK LDA !$0000 STA C$PARMS,X LDA #$00 STA C$PARMS+1,X RTS (ADDRESS);; ÐOKE WILL STORE THE VALUE OF 'BYTE' IN; THE LOCATION 'ADDRESS'.;; ÐEEK RETURNS THE VALUE WHICH IS; CURRENTLY STORED IN 'ADDRESS'.;--------------------------------FUNCT¤INIT   / C$FUNCT¤INIT   = ÍULTIPLY   Ü MALLOC @ ñ Ó×INDÄEST   Ó×INDÄEST  ,Ó×INDÂYTES   MÓ×INDÂYTES  RÒOWÏFFSETÌO   aÓ×INDÓRCE   dÒOWÏFFSETÈI   gÓ×INDÓRCE  lÓ×INDÓRCE  oÓ×INDÓRCE  qÐREÍOVE   sÍOVE   vÓ×INDÄEST   zÓ×INDÄEST   Ó×I8/87                                                       *//* ÉNSTRUCTIONS: "#INCLUDE <WINDOW.H>" BEFORE ANY OF YOUR PROGRAMS THAT USE *//*               THE WINDOW MANAGEMENT FUNCTIONS.                           *//*               ÄON'T FORGET TO USE HIGHMEM (0XC400)!                      *//*                                                                          *//* ======================================================================== */#DEFINE ÃÈÓÔÏÒÅÄ   0XC400   /* ÁÓÃÉÉ SCREEN MEMOR	YS¤KERNAL.O ÓIZEÔABLE SYS¤KERNAL.O ÒOWÏFFSETÌO SYS¤KERNAL.O ÒOWÏFFSETÈI SYS¤KERNAL.O ÓCROLLÅNABLE SYS¤KERNAL.O ÃLEAR×INDOW SYS¤KERNAL.O ÉNIT×IND SYS¤WINDOWS.O ÏPEN×IND SYS¤WINDOWS.O ÃLOSE×IN SYS¤WINDOWS.O ÒEPÃHAR SYS¤WINDOWS.O ÂEEPÏN SYS¤WINDOWS.O BEEP S 1 = 64, 2 = 80 COLS.) */#DEFINE ÌÅÆÔÅÄÇÅ   0X00EE   /* ×INDOW PARAMETERS */#DEFINE ÒÉÇÈÔÅÄÇÅ  0X00EF#DEFINE ÔÏÐÅÄÇÅ    0X00F0#DEFINE ÂÏÔÔÏÍÅÄÇÅ 0X00F1============================================ */#DEFINE ÃÈÓÔÏÒÅÄ   0XC400   /* ÁÓÃÉÉ SCREEN MEMORKKKKKKK Y */#DEFINE ÂÉÔÍÁÐ     0XE000   /* ÂITMAP LOCATION */#DEFINE ÃÏÌÕÍÎ     0X00D3   /* ÃURSOR COLUMN */#DEFINE ÒÏ×        0X00D6   /* ÃURSOR ROW */#DEFINE ÓÃÒ×ÉÄÔÈ   0X00EB   /* CURRENT SCREEN WIDTH */#DEFINE ÍÏÄÅÉÎÄÅØ  0X00EC   /* MODE INDEX (0 = 40, KKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKKK